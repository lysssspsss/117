var VideoController=function(){function t(){this.$time60=6e4,this.$time10=1e4}var i=(__define,t),e=i.prototype;return e.init=function(t){this.$gameContainer=t,this.$videoModel=new VideoModel,Config.update(RES.getRes(VideoAssets.CONFIG_JSON)),Logger.isLog=Config.ISDEBUG,this.initServer(),this.initScene()},e.initServer=function(){var t=new HttpServer;this.$server=t,t.addEventListener(HttpServer.BREAK_NET,this.onGetBreakNet_handler,this),t.addEventListener(HttpServer.GET_AD_COMPLETED,this.onGetAD_handler,this),t.addEventListener(HttpServer.GET_ANIMAL_COMPLETED,this.onGetAnimal_handler,this),t.addEventListener(HttpServer.GET_RESULT_COMPLETED,this.onGetResult_handler,this),t.loadAnimal(),t.loadAd()},e.initScene=function(){this.$videoScene=new VideoScene,this.$gameContainer.addChild(this.$videoScene),this.$videoScene.isAbleTest(!0,!0),this.$videoScene.addEventListener(VideoScene.CLICKTEST_EVENT,this.onTestScene_handler,this),this.$videoScene.addEventListener(VideoScene.CLICKAWARD_EVENT,this.onAwardScene_handler,this)},e.onTestScene_handler=function(t){this.$videoScene.testAward(this.$videoModel.getRandomTestData())},e.onAwardScene_handler=function(t){this.$videoModel.resultVo&&this.$videoScene.startLiveAward(this.$videoModel.resultVo.id,this.$videoModel.resultVo.ma)},e.onGetBreakNet_handler=function(t){this.$gameContainer.dispatchEvent(new egret.Event("BreakDownNet"))},e.onGetAD_handler=function(t){},e.onGetAnimal_handler=function(t){Zodiac.update(t.data),this.$videoScene.isAbleTest(!0,!1),Config.HISTORY_AWARD&&this.$videoScene.historyAward(Config.HISTORY_AWARD.id,this.$videoModel.dealMa(Config.HISTORY_AWARD.ma,!0)),this.startTimer(),this.$server.loadResult()},e.onGetResult_handler=function(t){this.$videoModel.updateReult(t.data),this.$videoScene.sceneType!=SceneTypeMc.TEST&&this.$videoScene.sceneType!=SceneTypeMc.HISTORY&&this.$videoScene.startLiveAward(this.$videoModel.resultVo.id,this.$videoModel.resultVo.ma),this.$videoModel.isAwardTime&&this.$videoModel.isReadyAward&&this.$videoScene.setStatus("准备开奖中，请稍候···")},e.startTimer=function(){this.$videoModel.isAwardTime?this.$lastTimer&&this.$lastTimer.delay!=this.$time60||(this.$lastTimer=new egret.Timer(this.$time10)):this.$lastTimer&&this.$lastTimer.delay!=this.$time10||(this.$lastTimer=new egret.Timer(this.$time60)),this.$lastTimer.running&&this.$lastTimer.reset(),this.$lastTimer.start(),this.$lastTimer.addEventListener(egret.TimerEvent.TIMER,this.onTimerEvent,this)},e.onTimerEvent=function(t){this.$server.loadResult()},t}();egret.registerClass(VideoController,"VideoController");var Main=function(t){function i(){t.call(this),this.$countLoadGroup=0,this.$currentLoad=0;var i=new egret.DeviceOrientation;i.addEventListener(egret.Event.CHANGE,this.onOrientation,this),i.start(),this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this),this.addEventListener("BreakDownNet",this.onBreakDownNet,this)}__extends(i,t);var e=(__define,i),s=e.prototype;return s.onOrientation=function(t){if(window.hasOwnProperty("orientation")){var i=Number(window.orientation);0==i||180==i?this.stage.scaleMode=egret.StageScaleMode.SHOW_ALL:this.stage.scaleMode=egret.StageScaleMode.EXACT_FIT}},s.onAddToStage=function(t){this.$gameContainer=new egret.Sprite,this.addChild(this.$gameContainer),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/skinRes.json?t=201606241647","resource/")},s.onConfigComplete=function(t){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),RES.loadGroup("preload"),this.$totalLoad=RES.getGroupByName("videoSkin").length},s.onResourceLoadComplete=function(t){if(this.$countLoadGroup++,"preload"==t.groupName){if(document.getElementById("preloading").style.display="none",Config.isShowVersion){var i=new TextField;this.addChild(i),i.size=15,i.x=10,i.y=5,i.text="v1.0.0.201607061017"}this.$loadingView=new LoadingUI,this.$gameContainer.addChild(this.$loadingView),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.loadGroup("videoSkin")}else"videoSkin"==t.groupName&&(RES.loadGroup("sounds"),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),this.createVideoScene())},s.onItemLoadError=function(t){console.warn("Url:"+t.resItem.url+" has failed to load")},s.onResourceLoadError=function(t){console.warn("Group:"+t.groupName+" has failed to load"),this.onResourceLoadComplete(t)},s.onResourceProgress=function(t){this.$currentLoad++,this.$loadingView.setProgress(this.$currentLoad,this.$totalLoad)},s.createVideoScene=function(){this.$gameContainer.removeChild(this.$loadingView),this.$videoController=new VideoController,this.$videoController.init(this.$gameContainer)},s.onBreakDownNet=function(t){this.addChild(this.$loadingView),this.$loadingView.setError("网络异常，请您检查网络是否连接正常！")},i}(egret.DisplayObjectContainer);egret.registerClass(Main,"Main");var ADVo=function(){function t(){}var i=(__define,t),e=i.prototype;return e.update=function(t){if(t){this.error=t.error;for(var i=0;i<t.itemArray.length;i++)"lhck_shipin_left"==t.itemArray[i].position?this.positionL=t.itemArray[i].data:this.positionR=t.itemArray[i].data}},t}();egret.registerClass(ADVo,"ADVo");var Config=function(){function t(){}var i=(__define,t);i.prototype;return t.update=function(i){t.TOOLBARURL=i.toolBarUrl,t.AWARDLINES=i.awardLines;var e=Parse.toInt(t.AWARDLINES.length*Math.random());t.AWARD_PATH=t.AWARDLINES[e],t.ZODIACURL_PATH=i.zodiacPath,t.ISDEBUG=i.isDebug,t.DEBUG_AWARDDATA=i.debug_awardData,t.AD_PATH=i.adPath},t}();egret.registerClass(Config,"Config");var ResultVo=function(){function t(){}var i=(__define,t),e=i.prototype;return e.update=function(t){this.id=t.id,this.nextId=t.nextid,this.year=t.year,this.day=t.day,this.time=t.time,this.week=t.week,this.type=t.type,this.info=t.info,this.ma=t.ma},t}();egret.registerClass(ResultVo,"ResultVo");var VideoAssets=function(){function t(){}var i=(__define,t);i.prototype;return t.LOADING_TEXTURE_JSON="loading_texture_json",t.LOADING_ANIMATION_JSON="loading_animation_json",t.LOADING_PNG="loading_png",t.VIDEO_ANIMATION_JSON="video_animation_json",t.VIDEO_TEXTURE_JSON="video_texture_json",t.VIDEO_TEXTURE_PNG="video_texture_png",t.BTNBGDOWN_A_PNG="btnBgDown_A_png",t.BTNBGUP_A_PNG="btnBgUp_A_png",t.BTNBGUP_B_PNG="btnBgUp_B_png",t.BTNBGDOWN_B_PNG="btnBgDown_B_png",t.BTN_DISCUSSHALL_PNG="btn_discussHall_png",t.BTN_HISTORY_PNG="btn_history_png",t.BTN_SIXSHEET_PNG="btn_sixSheet_png",t.BTN_AWARD_PNG="btn_award_png",t.SOUNDCLOSED_PNG="soundClosed_png",t.SOUNDOPENED_PNG="soundOpened_png",t.BTN_STATISTICSHEET_PNG="btn_statisticSheet_png",t.BTN_TESTIT_PNG="btn_testIt_png",t.BTN_ARROW_PNG="btn_arrow_png",t.BALL_0_PNG="ball0_png",t.BALL_1_PNG="ball1_png",t.BALL_2_PNG="ball2_png",t.BALL_3_PNG="ball3_png",t.BALL_4_PNG="ball4_png",t.BALL_5_PNG="ball5_png",t.BALL_6_PNG="ball6_png",t.BALL_7_PNG="ball7_png",t.BALL_8_PNG="ball8_png",t.BALL_9_PNG="ball9_png",t.BLUE_BALL_PNG="blueBall_png",t.RED_BALL_PNG="redBall_png",t.GREEN_BALL_PNG="greenBall_png",t.CIRCLE_PNG="greenBall_png",t.PERIOD_0_PNG="period0_png",t.PERIOD_1_PNG="period1_png",t.PERIOD_2_PNG="period2_png",t.PERIOD_3_PNG="period3_png",t.PERIOD_4_PNG="period4_png",t.PERIOD_5_PNG="period5_png",t.PERIOD_6_PNG="period6_png",t.PERIOD_7_PNG="period7_png",t.PERIOD_8_PNG="period8_png",t.PERIOD_9_PNG="period9_png",t.PERIOD_THE_PNG="periodThe_png",t.PERIOD_TIMES_PNG="periodTimes_png",t.TOOL_BG_PNG="toolBg_png",t.ARROWBG_PNG="arrowBg_png",t.LINE1_PNG="line1_png",t.LINE2_PNG="line2_png",t.LOGO_PNG="logo_png",t.LOGO_JSON="logo_json",t.SCENE_HISTORY_PNG="scene_history_png",t.SCENE_TESTIT_PNG="scene_testIt_png",t.SCENE_LIVE_PNG="scene_live_png",t.SCENE_BG_PNG="sceneBg_png",t.MOUSE_PNG="mouse_png",t.CATTLE_PNG="cattle_png",t.CHICKEN_PNG="chicken_png",t.DOG_PNG="dog_png",t.DRAGON_PNG="dragon_png",t.HORSE_PNG="horse_png",t.MONKEY_PNG="monkey_png",t.PIG_PNG="pig_png",t.RABBIT_PNG="rabbit_png",t.SHEEP_PNG="sheep_png",t.SNAKE_PNG="snake_png",t.TIGER_PNG="tiger_png",t.FIRE_PNG="fire_png",t.WATER_PNG="water_png",t.SOIL_PNG="soil_png",t.GOLD_PNG="gold_png",t.WOOD_PNG="wood_png",t.SLASH_PNG="slash_png",t.BALL_CIRCLE_PNG="circle_png",t.IRON_HOOP_PNG="ironHoop_png",t.TIPS_BG_PNG="tipsBg_png",t.ZODIAC_MOUSE_MP3="zodiac_mouse_mp3",t.ZODIAC_CATTLE_MP3="zodiac_cattle_mp3",t.ZODIAC_TIGER_MP3="zodiac_tiger_mp3",t.ZODIAC_RABBIT_MP3="zodiac_rabbit_mp3",t.ZODIAC_DRAGON_MP3="zodiac_dragon_mp3",t.ZODIAC_SNAKE_MP3="zodiac_snake_mp3",t.ZODIAC_HORSE_MP3="zodiac_horse_mp3",t.ZODIAC_SHEEP_MP3="zodiac_sheep_mp3",t.ZODIAC_MONKEY_MP3="zodiac_monkey_mp3",t.ZODIAC_CHICKEN_MP3="zodiac_chicken_mp3",t.ZODIAC_DOG_MP3="zodiac_dog_mp3",t.ZODIAC_PIG_MP3="zodiac_pig_mp3",t.HOSTSPEAKING_MP3="hostSpeaking_mp3",t.IN_AD_MP3="in_ad_mp3",t.MUSIC_MP3="music_mp3",t.PLAYBALLING_MP3="playBalling_mp3",t.READYAWARD_MP3="readyAward_mp3",t.REPORT_7_MP3="specialNum_mp3",t.REPORT_1_MP3="the_firthNum_is_mp3",t.REPORT_2_MP3="the_secondNum_is_mp3",t.REPORT_3_MP3="the_thirdNum_is_mp3",t.REPORT_4_MP3="the_fourthNum_is_mp3",t.REPORT_5_MP3="the_fifthNum_is_mp3",t.REPORT_6_MP3="the_sixthNum_is_mp3",t.CONFIG_JSON="config_json",t}();egret.registerClass(VideoAssets,"VideoAssets");var VideoModel=function(){function t(){}var i=__define,e=t,s=e.prototype;return s.updateAwardLine=function(t){if(t){var i=t.match(".+?(http://).+?.js"),e=t.match("(http://).+?.js");this.$awardLines=e;for(var s=0;s<e.length;s++)for(var r=0;r<i.length;r++)-1!=i.indexOf(e[s])&&e.splice(s,1);e.length>=2&&(this.awardLines=e[Parse.toInt(Math.random()*e.length)])}},s.updateReult=function(t){this.resultVo||(this.resultVo=new ResultVo),this.resultVo.update(t),this.resultVo.ma=this.dealMa(this.resultVo.ma)},s.dealWX=function(){for(var t=this.resultVo.ma,i=0;i<t.length;i++)t[i].wx=Zodiac.toEn(Zodiac.getWHByNum(t[i].num)),t[i].zodiac=Zodiac.toEn(t[i].zodiac)},s.updateAD=function(t){this.adVo||(this.adVo=new ADVo),this.adVo.update(t)},s.getRandomTestData=function(){for(var t=[],i=1;50>i;i++)t.push(i);for(var e=[];t.length>0;){var s=Parse.toInt(Math.random()*t.length);e.push(t.splice(s,1)[0])}var r=[];for(i=0;7>i;i++)r.push({zodiac:Zodiac.toEn(Zodiac.getSXByNum(e[i])),wx:Zodiac.toEn(Zodiac.getWHByNum(e[i])),color:Zodiac.toEn(Zodiac.getSBByNum(e[i])),num:e[i]});return r},i(s,"isReadyAward",function(){return this.resultVo.ma&&0!=this.resultVo.ma.length||1!=this.resultVo.type&&2!=this.resultVo.type&&3!=this.resultVo.type?!1:!0}),i(s,"isAwardTime",function(){var t=new Date,i=t.getHours(),e=t.getMinutes();return Logger.print("time:  ",i.toString()+":"+e.toString()),21==i&&40>=e&&e>=30&&this.resultVo&&this.resultVo.ma.length<7?!0:!1}),s.dealMa=function(t,i){if(void 0===i&&(i=!1),t){var e=[];if(i)for(var s=0;s<t.length;s++)e.push({num:t[s],zodiac:Zodiac.toEn(t[s+1]),color:t[s+2],wx:Zodiac.toEn(t[s+3])}),s+=3;else for(var r=0;r<t.length;r++)e.push({num:t[r],zodiac:Zodiac.toEn(t[r+1]),color:t[r+2],wx:Zodiac.toEn(Zodiac.getWHByNum(t[r]))}),r+=2;return e}return null},t}();egret.registerClass(VideoModel,"VideoModel");var WuXing=function(){function t(){}var i=(__define,t);i.prototype;return t.getWuXing=function(i){if(t.ThisYearList)for(var e=0;e<t.ThisYearList.length;e++)if(-1!=t.ThisYearList[e].indexOf(i))return e+1;return-1},t.updateYear=function(i){t.YEAR!=i&&(t.YEAR=i,t.ThisYearList=t.getWXNumbers(i))},t.getWXNumbers=function(i){for(var e=[],s=0;s<t.List.length;s++){e[s]||(e[s]=[]);for(var r=0;r<t.List[s].length;r++)e[s].push(t.List[s][r])}for(var n=1976;i>n;n++){for(var a,o,h=0;h<e.length;h++)for(var l=e[h],d=0;d<l.length;d++)l[d]++,49==l[d]?a=new egret.Point(h,d):50==l[d]&&(o=new egret.Point(h,d));if(o&&e[o.x].splice(o.y,1),a)switch(a.x){case 0:e[1].push(1);break;case 1:e[4].push(1);break;case 2:e[0].push(1);break;case 3:e[2].push(1);break;case 4:e[3].push(1)}}return e},t.getLen=function(i){for(var e=0,s=0;s<t.List.length;s++)for(var r=0;r<t.List[s].length;r++)e++;return e},t.List=[[6,7,14,15,22,23,36,37,44,45],[4,5,18,19,26,27,34,35,48,49],[2,3,10,11,24,25,32,33,40,41],[12,13,20,21,28,29,42,43],[1,8,9,16,17,30,31,38,39,46,47]],t}();egret.registerClass(WuXing,"WuXing");var Zodiac=function(){function t(){}var i=(__define,t);i.prototype;return t.update=function(i){t.SHENGXIAO=t.dealSX(i.shengxiao),t.WUHANG=t.dealWuHang(i.wuhang),t.SEBO=t.dealSeBo(i.sebo)},t.dealSX=function(t){var i;if(t){i=[];for(var e=0;e<t.length;e++){for(var s=t[e].nums.split(","),r=0;r<s.length;r++)s[r]=Number(s[r]);i.push({sx:t[e].sx,nums:s})}}return i},t.dealWuHang=function(t){var i;if(t){i=[];for(var e=0;e<t.length;e++){for(var s=t[e].nums.split(","),r=0;r<s.length;r++)s[r]=Number(s[r]);i.push({wh:t[e].wx,nums:s})}}return i},t.dealSeBo=function(t){var i;if(t){i=[];for(var e=0;e<t.length;e++){for(var s=t[e].nums.split(","),r=0;r<s.length;r++)s[r]=Number(s[r]);i.push({sb:t[e].sb,nums:s})}}return i},t.getSXByNum=function(i){if(0!=i)for(var e=0;e<t.SHENGXIAO.length;e++)if(-1!=t.SHENGXIAO[e].nums.indexOf(i))return t.SHENGXIAO[e].sx;return""},t.getSBByNum=function(i){if(0!=i)for(var e=0;e<t.SEBO.length;e++)if(-1!=t.SEBO[e].nums.indexOf(i))return t.SEBO[e].sb;return""},t.getWHByNum=function(i){if(0!=i)for(var e=0;e<t.WUHANG.length;e++)if(-1!=t.WUHANG[e].nums.indexOf(i))return t.WUHANG[e].wh;return""},t.toEn=function(i){for(var e in t.$EN)if(-1!=t.$EN[e].indexOf(i))return e;return""},t.$EN={mouse:"鼠",cattle:"牛",tiger:"虎",rabbit:"兔",dragon:"龙,龍",snake:"蛇",horse:"马,馬",sheep:"羊",monkey:"猴",chicken:"鸡,雞",dog:"狗",pig:"猪,豬",gold:"金",wood:"木",water:"水",fire:"火",soil:"土",red:"红,紅",blue:"蓝,藍",green:"綠,绿"},t}();egret.registerClass(Zodiac,"Zodiac");var HttpLoader=function(t){function i(){t.call(this)}__extends(i,t);var e=(__define,i),s=e.prototype;return s.load=function(t,i,e){void 0===i&&(i=""),void 0===e&&(e=""),this.checkNetStatu();var s=new egret.URLLoader;this.$urlLoader=s,t=t+"?"+i+"=";var r=new egret.URLRequest(t);s.dataFormat=egret.URLLoaderDataFormat.TEXT,s._request=r,JsonpReq.process_function(s,e),this.$url=r.url,s.addEventListener(egret.Event.COMPLETE,this.onLoadCompleted,this),s.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onIOError,this)},s.checkNetStatu=function(){window.navigator.onLine||this.dispatchEvent(new egret.Event(i.ONERROR,!1,!1,{errorId:0}))},s.onLoadCompleted=function(t){Logger.print("load url:",this.$url),Logger.print("data:",JSON.stringify(t.target.data)),this.dispatchEvent(new egret.Event(i.ONCOMPLETED,!1,!1,t.target.data))},s.onIOError=function(t){this.dispatchEvent(new egret.Event(i.ONERROR,!1,!1,t))},i.ONCOMPLETED="onCompleted",i.ONERROR="onError",i}(egret.EventDispatcher);egret.registerClass(HttpLoader,"HttpLoader");var URLLoader=egret.URLLoader,HttpServer=function(t){function i(){t.call(this),this.$breakNetCount=0}__extends(i,t);var e=(__define,i),s=e.prototype;return s.init=function(){},s.onPingTimer=function(t){navigator.onLine||(this.$breakNetCount++,this.$breakNetCount>=5&&this.dispatchEvent(new egret.Event(i.BREAK_NET)))},s.loadAnimal=function(){var t=this.$animalLoader;t||(t=new HttpLoader,t.addEventListener(HttpLoader.ONCOMPLETED,this.onLoadAnimal_completed,this),t.addEventListener(HttpLoader.ONERROR,this.onLoaderError,this)),t.load(Config.ZODIACURL_PATH,"callback=zodiacData","zodiacData")},s.onLoadAnimal_completed=function(t){this.dispatchEvent(new egret.Event(i.GET_ANIMAL_COMPLETED,!1,!1,t.data))},s.loadAd=function(){var t=this.$adLoader;t||(t=new HttpLoader,t.addEventListener(HttpLoader.ONCOMPLETED,this.onAdLoaderCompleted,this),t.addEventListener(HttpLoader.ONERROR,this.onLoaderError,this)),t.load(Config.AD_PATH,"codes=csj_m_index_banner&format=json&website=76&jsoncallback=adData","adData")},s.onAdLoaderCompleted=function(t){Logger.print("onLoad Ad completed"),this.dispatchEvent(new egret.Event(i.GET_AD_COMPLETED,!1,!1,t.data))},s.onLoaderError=function(t){0==t.data.errorId&&this.dispatchEvent(new egret.Event(i.BREAK_NET,!1,!1))},s.loadResult=function(){var t=this.$resultLoader;t||(t=new HttpLoader,t.addEventListener(HttpLoader.ONCOMPLETED,this.loadResultCompleted,this),t.addEventListener(HttpLoader.ONERROR,this.onLoaderError,this)),t.load(Config.AWARD_PATH,"","push_lhc_result")},s.loadResultCompleted=function(t){Logger.print("load result completed");var e=Config.ISDEBUG?Config.DEBUG_AWARDDATA:t.data;this.dispatchEvent(new egret.Event(i.GET_RESULT_COMPLETED,!1,!1,e))},i.BREAK_NET="breakNet",i.GET_ANIMAL_COMPLETED="animalCompleted",i.GET_RESULT_COMPLETED="getResultCompleted",i.GET_AD_COMPLETED="getADCompleted",i.GET_AWARDLINE_COMPLETED="getAwardLine_completed",i}(egret.EventDispatcher);egret.registerClass(HttpServer,"HttpServer");var JsonpReq=function(){function t(){}var i=(__define,t);i.prototype;return t.process=function(i){t.completeCall["call_"+t._regID]=function(e){var s=t._regID;i.data=e,i.dispatchEvent(new egret.Event(egret.Event.COMPLETE)),delete t.completeCall["call_"+s]},t.startLoader(i,t._regID++)},t.startLoader=function(t,i){var e=document.createElement("script");e.src=t._request.url+"JsonpReq.completeCall.call_"+i,document.body.appendChild(e)},t.process_function=function(i,e){t.completeCall[e]=function(s){i.data=s,i.dispatchEvent(new egret.Event(egret.Event.COMPLETE)),delete t.completeCall[e]},t.startLoader_functionName(i,e)},t.startLoader_functionName=function(t,i){var e=document.createElement("script");e.src=t._request.url+"JsonpReq.completeCall."+i,document.body.appendChild(e)},t._regID=0,t.completeCall={},t}();egret.registerClass(JsonpReq,"JsonpReq");var Logger=function(){function t(){}var i=(__define,t);i.prototype;return t.print=function(i,e){void 0===e&&(e=null),t.isLog&&console.log(i,e)},t}();egret.registerClass(Logger,"Logger");var Parse=function(){function t(){}var i=(__define,t);i.prototype;return t.toInt=function(t){return parseInt(String(t))},t}();egret.registerClass(Parse,"Parse");var disDev;!function(t){var i=function(t){function i(){if(t.call(this),this.$loopStartFrame=0,this.$loopEndFrame=0,this.$driverType=disTypes.DriverType.FRAME,this.playInterval=1,this.currentInterval=0,this.executeFrameScript=!0,this.executeLoop=!0,this.executeDriverType=!0,"disDev.AbstractAnimation"==egret.getQualifiedClassName(this))throw new Error(this.__class__+" 是用于被继承的抽象类，不能实例化")}__extends(i,t);var e=__define,s=i,r=s.prototype;return r.addFrameScript=function(t,i,e,s){},r.removeFrameScript=function(t){},r.stop=function(){},r.play=function(){},r.gotoAndPlay=function(t){},r.gotoAndStop=function(t){},r.nextFrame=function(){},r.prevFrame=function(){},r.playHandler=function(t){void 0===t&&(t=null)},e(r,"totalFrames",function(){return this.$totalFrames}),e(r,"currentFrame",function(){return this.$currentFrame}),e(r,"isPlaying",function(){return this.$isPlaying}),r.setDriver=function(t,i){void 0===t&&(t=disTypes.DriverType.FRAME),void 0===i&&(i=1)},r.setLoopPoint=function(t,i,e,s,r){if(void 0===e&&(e=!1),void 0===s&&(s=this.$driverType),void 0===r&&(r=this.playInterval),1>t||i>this.$totalFrames)throw new Error("循环播放片段起始帧或结束帧超出范围！");if(t>i)throw new Error("循环播放片段起始帧号不能大于结束帧号！");this.$loopStartFrame=Math.floor(t),this.$loopEndFrame=Math.floor(i),this.$driverTypeOnLooping=s,this.$playIntervalOnLooping=r,this.executeLoop&&e&&this.gotoAndPlay(t)},r.clearLoopPoint=function(){this.$loopStartFrame=0,this.$loopEndFrame=0},e(r,"scaleWidth",function(){return this.width*this.scaleX},function(t){this.scaleX=t/this.width}),e(r,"scaleHeight",function(){return this.height*this.scaleY},function(t){this.scaleY=t/this.height}),r.destroy=function(){this.removeEventListener(egret.Event.ENTER_FRAME,this.playHandler,this),this.timer&&(this.timer.removeEventListener(egret.TimerEvent.TIMER,this.playHandler,this),this.timer.stop())},i}(egret.Sprite);t.AbstractAnimation=i,egret.registerClass(i,"disDev.AbstractAnimation",["disDev.IAnimation","disDev.IDisplayObjectLite","egret.IEventDispatcher"])}(disDev||(disDev={}));var disDev;!function(t){var i=function(t){function i(i,e,s,r){void 0===i&&(i=null),void 0===e&&(e=1),void 0===s&&(s=!0),void 0===r&&(r=disTypes.BitmapAlignEnum[0]),t.call(this),this.backGroundBitmap=new egret.Bitmap,this.$isNatureEnter=!1,this.$bitmapAlignType=disTypes.BitmapAlignEnum[0],i&&this.reconstruct(i,e,s,r)}__extends(i,t);var e=__define,s=i,n=s.prototype;return n.reconstruct=function(t,i,e,s){if(void 0===i&&(i=1),void 0===e&&(e=!0),void 0===s&&(s=disTypes.BitmapAlignEnum[0]),!t||t.length<1)throw new Error("textureInfoList不能为空, 并且长度不能小于1");this.$totalFrames=0,this.$partArray=[],this.$partHeadList=[],this.$partTailList=[],this.correctedPointArray=[],this.$textureNameList=[];for(var r=0;r<t.length;r++){var n=[this.$totalFrames+1];this.$totalFrames+=t[r].nameArray.length,n.push(this.$totalFrames),this.$partArray.push(n),this.$partHeadList.push(n[0]-1),this.$partTailList.push(n[1]-1),this.correctedPointArray.push(t[r].correctedPoint),this.$textureNameList=this.$textureNameList.concat(t[r].nameArray)}if(1>i||i>this.$totalFrames)throw new Error("初始帧start超出有效范围");var a=this.checkAndCreateTexture(this.$textureNameList[i-1]);this.$isPlaying=!1,this.removeEventListener(egret.Event.ENTER_FRAME,this.playHandler,this),this.timer&&(this.timer.removeEventListener(egret.TimerEvent.TIMER,this.playHandler,this),this.timer.stop()),this.clearLoopPoint(),this.textureInfoList=t,this.start=Math.floor(i),this.$currentFrame=this.start,this.addChildAt(this.backGroundBitmap,0),this.backGroundBitmap.texture=a,this.$initHeight=this.backGroundBitmap.height,this.$initWidth=this.backGroundBitmap.width,this.bitmapAlignType=s,this.setDriver(),e&&this.play(),this.callBackFunctionCollection=[]},n.checkAndCreateTexture=function(t){var i=RES.getRes(t);return this.$currentTextureName!=t?(this.$currentTextureName=t,i):(this.$currentTextureName=t,i)},n.push=function(t){var i=[this.$totalFrames+1];return this.$totalFrames+=t.nameArray.length,i.push(this.$totalFrames),this.$partArray.push(i),this.$partHeadList.push(i[0]-1),this.correctedPointArray.push(t.correctedPoint),this.$textureNameList=this.$textureNameList.concat(t.nameArray),this},n.concat=function(t){for(var i=0;i<t.length;i++){var e=t[i],s=[this.$totalFrames+1];this.$totalFrames+=e.nameArray.length,s.push(this.$totalFrames),this.$partArray.push(s),this.$partHeadList.push(s[0]-1),this.correctedPointArray.push(e.correctedPoint),this.$textureNameList=this.$textureNameList.concat(e.nameArray)}return this},n.addFrameScript=function(t,i,e,s){if(void 0===e&&(e=this),void 0===s&&(s=!0),isNaN(Math.floor(t))||Math.floor(t)<0||Math.floor(t)>this.$totalFrames-1)throw new Error("事件帧序号超出有效范围");this.callBackFunctionCollection[Math.floor(t)]=i.bind(e),s&&Math.floor(t)==this.start&&this.executeFrameScript&&this.callBackFunctionCollection[Math.floor(t)].call(null)},n.addFrameScriptOnce=function(t,i,e,s){if(void 0===e&&(e=this),void 0===s&&(s=!0),isNaN(Math.floor(t))||Math.floor(t)<0||Math.floor(t)>this.$totalFrames-1)throw new Error("事件帧序号超出有效范围");this.callBackFunctionCollection[Math.floor(t)]=function(){i.bind(e).call(null),this.removeFrameScript(Math.floor(t))}.bind(this),s&&Math.floor(t)==this.start&&this.executeFrameScript&&this.callBackFunctionCollection[Math.floor(t)].call(null)},n.removeFrameScript=function(t){if(Math.floor(t)<0||Math.floor(t)>this.$totalFrames-1)throw new Error("事件帧序号超出有效范围");this.callBackFunctionCollection&&this.callBackFunctionCollection[Math.floor(t)]&&delete this.callBackFunctionCollection[Math.floor(t)]},n.play=function(){return 1==this.$totalFrames?void this.stop():(this.$isPlaying=!0,void(this.$driverType==disTypes.DriverType.FRAME?(this.addEventListener(egret.Event.ENTER_FRAME,this.playHandler,this),this.timer&&(this.timer.removeEventListener(egret.TimerEvent.TIMER,this.playHandler,this),this.timer.stop())):this.$driverType==disTypes.DriverType.TIMER&&(this.timer||(this.timer=new egret.Timer(this.playInterval)),this.timer.addEventListener(egret.TimerEvent.TIMER,this.playHandler,this),this.timer.delay=this.playInterval,this.timer.start())))},n.gotoAndPlay=function(t){if(1==this.$totalFrames)return void this.stop();this.$isNatureEnter=!1;var i=this.$currentFrame;this.$currentFrame=Math.floor(t),this.$currentFrame<1?this.$currentFrame=1:this.$currentFrame>this.$totalFrames&&(this.$currentFrame=this.$totalFrames),this.start=this.$currentFrame;var e=this.checkAndCreateTexture(this.$textureNameList[this.start-1]);this.backGroundBitmap.texture=e,this.bitmapAlignHandler(),this.callBackFunctionCollection&&this.executeFrameScript&&this.callBackFunctionCollection[this.$currentFrame-1]&&i!=this.$currentFrame&&this.callBackFunctionCollection[this.$currentFrame-1].call(null),this.play()},n.stop=function(){this.$isPlaying=!1,this.removeEventListener(egret.Event.ENTER_FRAME,this.playHandler,this),this.timer&&(this.timer.removeEventListener(egret.TimerEvent.TIMER,this.playHandler,this),this.timer.stop()),this.start=this.$currentFrame;var t=this.checkAndCreateTexture(this.$textureNameList[this.start-1]);this.backGroundBitmap.texture=t,this.bitmapAlignHandler()},n.gotoAndStop=function(t){if(1==this.$totalFrames)return void this.stop();this.$isNatureEnter=!1;var i=this.$currentFrame;this.$currentFrame=Math.floor(t),this.$currentFrame<1?this.$currentFrame=1:this.$currentFrame>this.$totalFrames&&(this.$currentFrame=this.$totalFrames),this.stop(),this.callBackFunctionCollection&&this.executeFrameScript&&this.callBackFunctionCollection[this.$currentFrame-1]&&i!=this.$currentFrame&&this.callBackFunctionCollection[this.$currentFrame-1].call(null)},n.playHandler=function(){if(this.$isPlaying&&this.executeDriverType)if(this.$driverType==disTypes.DriverType.FRAME){for(this.currentInterval++;this.currentInterval>=2*this.playInterval;)if(this.currentInterval-=this.playInterval,this.autoNextFrame(!1),!this.$isPlaying)return;this.currentInterval>=this.playInterval&&(this.currentInterval-=this.playInterval,this.autoNextFrame(!0))}else this.$driverType==disTypes.DriverType.TIMER&&this.autoNextFrame()},n.autoNextFrame=function(t){void 0===t&&(t=!0),this.$isNatureEnter=!0,this.start<=this.$totalFrames&&this.start++,this.start>this.$totalFrames&&(this.isPlaying?this.start=1:this.start=this.$totalFrames),this.executeLoop&&this.isPlaying&&this.$currentFrame==this.$loopEndFrame&&(this.start=this.$loopStartFrame),this.executeLoop&&this.isPlaying&&this.$currentFrame>=this.$loopStartFrame&&this.$currentFrame<=this.$loopEndFrame&&(this.driverType!=this.$driverTypeOnLooping||this.$playIntervalOnLooping!=this.playInterval)&&this.setDriver(this.$driverTypeOnLooping,this.$playIntervalOnLooping);var i=this.$currentFrame;if(this.$currentFrame=this.start,t){var e=this.checkAndCreateTexture(this.$textureNameList[this.$currentFrame-1]);this.backGroundBitmap.texture=e,this.bitmapAlignHandler()}this.executeLoop&&this.isPlaying&&this.start==this.$loopStartFrame&&this.start==this.$loopEndFrame&&this.stop(),this.callBackFunctionCollection&&this.executeFrameScript&&this.callBackFunctionCollection[this.$currentFrame-1]&&i!=this.$currentFrame&&this.callBackFunctionCollection[this.$currentFrame-1].call(null)},n.autoPrevFrame=function(t){if(void 0===t&&(t=!0),this.start>1&&(this.start--,this.$isNatureEnter=!0),this.start<1&&(this.start=1),this.$currentFrame=this.start,t){var i=this.checkAndCreateTexture(this.$textureNameList[this.start-1]);this.backGroundBitmap.texture=i,this.bitmapAlignHandler()}this.callBackFunctionCollection&&this.executeFrameScript&&this.callBackFunctionCollection[this.$currentFrame-1]&&this.callBackFunctionCollection[this.$currentFrame-1].call(null)},n.nextFrame=function(){this.stop(),this.start<this.$totalFrames&&this.autoNextFrame()},n.prevFrame=function(){this.stop(),this.start>1&&this.autoPrevFrame()},e(n,"currentTextureName",function(){return this.$currentTextureName}),e(n,"isNatureEnter",function(){return this.$isNatureEnter}),n.getPartHeadAt=function(t){return t=Math.floor(t),t>=this.$partHeadList.length||t<-this.$partHeadList.length?0/0:(0>t&&(t=this.$partHeadList.length+t),this.$partHeadList[t])},n.getPartTailAt=function(t){return t=Math.floor(t),t>=this.$partTailList.length||t<-this.$partTailList.length?0/0:(0>t&&(t=this.$partTailList.length+t),this.$partTailList[t])},n.getPartHeadAndTailList=function(){for(var t=[],i=0;i<this.$partArray.length;i++)t.push(new r(this.$partArray[i][0]-1,this.$partArray[i][1]-1));return t},n.getPartHeadAndTailAt=function(t){return t=Math.floor(t),t>=this.$partArray.length||t<-this.$partArray.length?null:(0>t&&(t=this.$partArray.length+t),new r(this.$partHeadList[t],this.$partTailList[t]))},n.getPlayPartIndexByFrame=function(t){if(1>t||t>this.totalFrames)throw new Error("帧号超出有效范围！");t=Math.floor(t);for(var i=0;i<this.$partArray.length;i++)if(t>=this.$partArray[i][0]&&t<=this.$partArray[i][1])return i},e(n,"bitmapAlignType",function(){return this.$bitmapAlignType},function(t){this.$bitmapAlignType=t,this.bitmapAlignHandler()}),n.bitmapAlignHandler=function(){switch(this.$bitmapAlignType){case disTypes.BitmapAlignEnum[0]:this.backGroundBitmap.x=0,this.backGroundBitmap.y=0;break;case disTypes.BitmapAlignEnum[1]:this.backGroundBitmap.x=(this.$initWidth-this.backGroundBitmap.width)/2,this.backGroundBitmap.y=0;break;case disTypes.BitmapAlignEnum[2]:this.backGroundBitmap.x=this.$initWidth-this.backGroundBitmap.width,this.backGroundBitmap.y=0;break;case disTypes.BitmapAlignEnum[3]:this.backGroundBitmap.x=0,this.backGroundBitmap.y=(this.$initHeight-this.backGroundBitmap.height)/2;break;case disTypes.BitmapAlignEnum[4]:this.backGroundBitmap.x=(this.$initWidth-this.backGroundBitmap.width)/2,this.backGroundBitmap.y=(this.$initHeight-this.backGroundBitmap.height)/2;break;case disTypes.BitmapAlignEnum[5]:this.backGroundBitmap.x=this.$initWidth-this.backGroundBitmap.width,this.backGroundBitmap.y=(this.$initHeight-this.backGroundBitmap.height)/2;break;case disTypes.BitmapAlignEnum[6]:this.backGroundBitmap.x=0,this.backGroundBitmap.y=this.$initHeight-this.backGroundBitmap.height;break;case disTypes.BitmapAlignEnum[7]:this.backGroundBitmap.x=(this.$initWidth-this.backGroundBitmap.width)/2,this.backGroundBitmap.y=this.$initHeight-this.backGroundBitmap.height;break;case disTypes.BitmapAlignEnum[8]:this.backGroundBitmap.x=this.$initWidth-this.backGroundBitmap.width,this.backGroundBitmap.y=this.$initHeight-this.backGroundBitmap.height}var t;for(t=0;t<this.$partArray.length&&!(this.$currentFrame>=this.$partArray[t][0]&&this.$currentFrame<=this.$partArray[t][1]);t++);var i=this.correctedPointArray[t];this.backGroundBitmap.x+=i.x,this.backGroundBitmap.y+=i.y},e(n,"smoothing",function(){return this.backGroundBitmap.smoothing},function(t){this.backGroundBitmap.smoothing=t}),n.destroy=function(){t.prototype.destroy.call(this),this.backGroundBitmap&&this.backGroundBitmap.parent&&this.backGroundBitmap.parent.removeChild(this.backGroundBitmap),this.callBackFunctionCollection=null},n.setDriver=function(t,i){if(void 0===t&&(t=disTypes.DriverType.FRAME),void 0===i&&(i=1),0>=i)throw new Error("驱动间隔不能等于或小于0！");this.executeDriverType&&(this.$driverType=t,this.playInterval=i,this.$driverTypeOnLooping=this.$driverType,this.$playIntervalOnLooping=this.playInterval,this.currentInterval=0,t==disTypes.DriverType.FRAME&&this.playInterval%1!=0||t==disTypes.DriverType.TIMER&&this.playInterval<16,this.isPlaying&&(this.removeEventListener(egret.Event.ENTER_FRAME,this.playHandler,this),this.timer&&(this.timer.removeEventListener(egret.TimerEvent.TIMER,this.playHandler,this),this.timer.stop()),this.play()))},e(n,"frameInterval",void 0,function(t){this.setDriver(disTypes.DriverType.FRAME,t)}),e(n,"timerInterval",void 0,function(t){this.setDriver(disTypes.DriverType.TIMER,t)}),e(n,"driverType",function(){return this.$driverType
}),i}(t.AbstractAnimation);t.AnimationGroup=i,egret.registerClass(i,"disDev.AnimationGroup",["disDev.IAnimation","disDev.IDisplayObjectLite","egret.IEventDispatcher"]);var e=function(){function t(){throw new Error(this.__class__+" 是静态成员集成类, 无需实例化")}var i=(__define,t);i.prototype;return t.createInfo=function(t,i,e,r,n,a){if(void 0===i&&(i=null),void 0===e&&(e=0),void 0===r&&(r=1),void 0===n&&(n=0),void 0===a&&(a=0),1>t)throw new Error("Texture对象列表长度不能小于1");if(1>r)throw new Error("Texture对象的序号长度不能小于1");var o=t+e,h=[];r=Math.floor(r);for(var l=Math.floor(e);l<Math.floor(o);l++)null==i?h.push(null):h.push(i+this.getFrameByDigits(l,r));var d=new s(h,new egret.Point(n,a));return d},t.createStaticInfo=function(t,i,e,r){if(void 0===i&&(i=null),void 0===e&&(e=0),void 0===r&&(r=0),1>t)throw new Error("Texture对象列表长度不能小于1");for(var n=[],a=0;t>a;a++)null==i?n.push(null):n.push(i);var o=new s(n,new egret.Point(e,r));return o},t.getFrameByDigits=function(t,i){1>i&&(i=1),i=Math.floor(i);for(var e=t.toString();e.length<i;)e=0+e;return e},t}();t.TextureInfoMaker=e,egret.registerClass(e,"disDev.TextureInfoMaker");var s=function(){function i(t,i){void 0===i&&(i=new egret.Point(0,0)),this.nameArray=t,this.correctedPoint=i}var e=(__define,i),s=e.prototype;return s.reverse=function(i){void 0===i&&(i=this.correctedPoint.clone());var e=this.nameArray.concat().reverse();return new t.TextureInfo(e,i)},i}();t.TextureInfo=s,egret.registerClass(s,"disDev.TextureInfo");var r=function(){function t(t,i){this.head=t,this.tail=i}var i=(__define,t);i.prototype;return t}();t.HeadAndTail=r,egret.registerClass(r,"disDev.HeadAndTail")}(disDev||(disDev={}));var disDev;!function(t){var i=function(t){function i(i,e,s,r,n,a){void 0===i&&(i=0),void 0===e&&(e=null),void 0===s&&(s=0),void 0===r&&(r=1),void 0===n&&(n=1),void 0===a&&(a=!0),t.call(this),this.backGroundBitmap=new egret.Bitmap,e&&this.reconstruct(i,e,s,r,n,a)}__extends(i,t);var e=__define,s=i,r=s.prototype;return r.reconstruct=function(t,i,e,s,r,n){if(void 0===i&&(i=null),void 0===e&&(e=0),void 0===s&&(s=1),void 0===r&&(r=1),void 0===n&&(n=!0),1>t)throw new Error("Texture对象列表长度不能小于1");if(1>r||r>t)throw new Error("初始帧start超出有效范围");if(1>s)throw new Error("Texture对象的序号长度不能小于1");var a=t-1+e,o=e+r-1,h=this.checkAndCreateTexture(i+this.getFrameByDigits(o,s));this.$isPlaying=!1,this.removeEventListener(egret.Event.ENTER_FRAME,this.playHandler,this),this.timer&&(this.timer.removeEventListener(egret.TimerEvent.TIMER,this.playHandler,this),this.timer.stop()),this.clearLoopPoint(),this.texturePrefix=i,this.min=Math.floor(e),this.max=Math.floor(a),this.start=Math.floor(o),this.digits=Math.floor(s),this.$totalFrames=this.max-this.min+1,this.$currentFrame=this.start-this.min+1,this.setDriver(),this.addChildAt(this.backGroundBitmap,0),this.backGroundBitmap.texture=h,n&&this.play(),this.callBackFunctionCollection=[]},r.checkAndCreateTexture=function(t){this.$currentTextureName=t;var i=RES.getRes(t);return i||console.log("无法获取有效的 Texture: "+t+"，请检查名称拼写，或确认是否已经正常加载该资源"),i},r.addFrameScript=function(t,i,e,s){if(void 0===e&&(e=this),void 0===s&&(s=!0),isNaN(Math.floor(t))||Math.floor(t)<0||Math.floor(t)>this.totalFrames-1)throw new Error("事件帧序号超出有效范围");this.callBackFunctionCollection[Math.floor(t)]=i.bind(e),s&&Math.floor(t)==this.start&&this.executeFrameScript&&this.callBackFunctionCollection[Math.floor(t)].call(null)},r.addFrameScriptOnce=function(t,i,e,s){if(void 0===e&&(e=this),void 0===s&&(s=!0),isNaN(Math.floor(t))||Math.floor(t)<0||Math.floor(t)>this.$totalFrames-1)throw new Error("事件帧序号超出有效范围");this.callBackFunctionCollection[Math.floor(t)]=function(){i.bind(e).call(null),this.removeFrameScript(Math.floor(t))}.bind(this),s&&Math.floor(t)==this.start&&this.executeFrameScript&&this.callBackFunctionCollection[Math.floor(t)].call(null)},r.removeFrameScript=function(t){if(Math.floor(t)<0||Math.floor(t)>this.totalFrames-1)throw new Error("事件帧序号超出有效范围");this.callBackFunctionCollection&&this.callBackFunctionCollection[Math.floor(t)]&&delete this.callBackFunctionCollection[Math.floor(t)]},r.play=function(){return 1==this.$totalFrames?void this.stop():(this.$isPlaying=!0,void(this.$driverType==disTypes.DriverType.FRAME?(this.addEventListener(egret.Event.ENTER_FRAME,this.playHandler,this),this.timer&&(this.timer.removeEventListener(egret.TimerEvent.TIMER,this.playHandler,this),this.timer.stop())):this.$driverType==disTypes.DriverType.TIMER&&(this.timer||(this.timer=new egret.Timer(this.playInterval)),this.timer.addEventListener(egret.TimerEvent.TIMER,this.playHandler,this),this.timer.delay=this.playInterval,this.timer.start())))},r.gotoAndPlay=function(t){if(1==this.$totalFrames)return void this.stop();var i=this.$currentFrame;this.$currentFrame=Math.floor(t),this.$currentFrame<1?this.$currentFrame=1:this.$currentFrame>this.totalFrames&&(this.$currentFrame=this.totalFrames),this.start=this.$currentFrame-1+this.min;var e=this.checkAndCreateTexture(this.texturePrefix+this.getFrameByDigits(this.start,this.digits));this.backGroundBitmap.texture=e,this.callBackFunctionCollection&&this.executeFrameScript&&this.callBackFunctionCollection[this.$currentFrame-1]&&i!=this.$currentFrame&&this.callBackFunctionCollection[this.$currentFrame-1].call(null),this.play()},r.stop=function(){this.$isPlaying=!1,this.removeEventListener(egret.Event.ENTER_FRAME,this.playHandler,this),this.timer&&(this.timer.removeEventListener(egret.TimerEvent.TIMER,this.playHandler,this),this.timer.stop()),this.start=this.$currentFrame-1+this.min;var t=this.checkAndCreateTexture(this.texturePrefix+this.getFrameByDigits(this.start,this.digits));this.backGroundBitmap.texture=t},r.gotoAndStop=function(t){if(1==this.$totalFrames)return void this.stop();var i=this.$currentFrame;this.$currentFrame=Math.floor(t),this.$currentFrame<1?this.$currentFrame=1:this.$currentFrame>this.totalFrames&&(this.$currentFrame=this.totalFrames),this.stop(),this.callBackFunctionCollection&&this.executeFrameScript&&this.callBackFunctionCollection[this.$currentFrame-1]&&i!=this.$currentFrame&&this.callBackFunctionCollection[this.$currentFrame-1].call(null)},r.playHandler=function(){if(this.$isPlaying&&this.executeDriverType)if(this.$driverType==disTypes.DriverType.FRAME){for(this.currentInterval++;this.currentInterval>=2*this.playInterval;)if(this.currentInterval-=this.playInterval,this.autoNextFrame(!1),!this.$isPlaying)return;this.currentInterval>=this.playInterval&&(this.currentInterval-=this.playInterval,this.autoNextFrame(!0))}else this.$driverType==disTypes.DriverType.TIMER&&this.autoNextFrame()},r.autoNextFrame=function(t){if(void 0===t&&(t=!0),this.start<=this.max&&this.start++,this.start>this.max&&(this.isPlaying?this.start=this.min:this.start=this.max),this.executeLoop&&this.isPlaying&&this.$currentFrame==this.$loopEndFrame&&(this.start=this.$loopStartFrame-1+this.min),this.executeLoop&&this.isPlaying&&this.$currentFrame>=this.$loopStartFrame&&this.$currentFrame<=this.$loopEndFrame&&(this.driverType!=this.$driverTypeOnLooping||this.$playIntervalOnLooping!=this.playInterval)&&this.setDriver(this.$driverTypeOnLooping,this.$playIntervalOnLooping),this.$currentFrame=this.start-this.min+1,t){var i=this.checkAndCreateTexture(this.texturePrefix+this.getFrameByDigits(this.start,this.digits));this.backGroundBitmap.texture=i}this.executeLoop&&this.isPlaying&&this.$currentFrame==this.$loopStartFrame&&this.$currentFrame==this.$loopEndFrame&&this.stop(),this.callBackFunctionCollection&&this.executeFrameScript&&this.callBackFunctionCollection[this.$currentFrame-1]&&this.callBackFunctionCollection[this.$currentFrame-1].call(null)},r.autoPrevFrame=function(t){if(void 0===t&&(t=!0),this.start>this.min&&this.start--,this.start<this.min&&(this.start=this.min),this.$currentFrame=this.start-this.min+1,t){var i=this.checkAndCreateTexture(this.texturePrefix+this.getFrameByDigits(this.start,this.digits));this.backGroundBitmap.texture=i}this.callBackFunctionCollection&&this.executeFrameScript&&this.callBackFunctionCollection[this.$currentFrame-1]&&this.callBackFunctionCollection[this.$currentFrame-1].call(null)},r.nextFrame=function(){this.stop(),this.start<this.max&&this.autoNextFrame()},r.prevFrame=function(){this.stop(),this.start>this.min&&this.autoPrevFrame()},e(r,"currentTextureName",function(){return this.$currentTextureName}),r.getFrameByDigits=function(t,i){1>i&&(i=1),i=Math.floor(i);for(var e=t.toString();e.length<i;)e=0+e;return e},e(r,"smoothing",function(){return this.backGroundBitmap.smoothing},function(t){this.backGroundBitmap.smoothing=t}),r.destroy=function(){t.prototype.destroy.call(this),this.backGroundBitmap&&this.contains(this.backGroundBitmap)&&this.removeChild(this.backGroundBitmap),this.callBackFunctionCollection=null},r.setDriver=function(t,i){if(void 0===t&&(t=disTypes.DriverType.FRAME),void 0===i&&(i=1),0>=i)throw new Error("驱动间隔不能等于或小于0！");this.executeDriverType&&(this.$driverType=t,this.playInterval=i,this.currentInterval=0,this.isPlaying&&(this.removeEventListener(egret.Event.ENTER_FRAME,this.playHandler,this),this.timer&&(this.timer.removeEventListener(egret.TimerEvent.TIMER,this.playHandler,this),this.timer.stop()),this.play()))},e(r,"driverType",function(){return this.$driverType}),i}(t.AbstractAnimation);t.AnimationLite=i,egret.registerClass(i,"disDev.AnimationLite",["disDev.IAnimation","disDev.IDisplayObjectLite","egret.IEventDispatcher"])}(disDev||(disDev={}));var disDev;!function(t){var i=function(t){function i(i,e,s,r){void 0===i&&(i=1),void 0===e&&(e=null),void 0===s&&(s=1),void 0===r&&(r=!0),t.call(this),this.start=1,this.$isAutoEnter=!1,this.reconstruct(i,e,s,r)}__extends(i,t);var e=__define,s=i,r=s.prototype;return r.reconstruct=function(t,i,e,s){if(void 0===i&&(i=null),void 0===e&&(e=1),void 0===s&&(s=!0),1>t)throw new Error("totalFrames 不能小于1");if(this.$totalFrames=Math.floor(t),1>e||e>this.$totalFrames)throw new Error("startFrame 超出有效范围");this.$isPlaying=!1,this.destroy(),this.clearLoopPoint(),this.$currentFrame=Math.floor(e),this.start=this.$currentFrame,this.setDriver(),i&&i.length>0&&(this.resetAnimations(i),s?this.gotoAndPlay(this.start):this.gotoAndStop(this.start)),this.callBackFunctionCollection=[]},r.resetAnimations=function(t){for(;this.numChildren>0;)this.removeChildAt(0);this.anmArray=[];for(var i=0;i<t.length;i++)this.addAnimation(t[i])},r.addAnimation=function(t){return this.addAnimationAt(t,this.numChildren)},r.addAnimationAt=function(t,i){if(this.anmArray||(this.anmArray=[]),this.$totalFrames!=t.totalFrames)throw new Error("子动画与"+this.__class__+"的 totalFrames 不一致");this.anmArray.push(t),t.executeFrameScript=!1,t.executeLoop=!1,t.executeDriverType=!1;var e=t;return this.addChildAt(e,i),t},r.setAnimationIndex=function(t,i){this.setChildIndex(t,i)},r.removeAnimation=function(t){this.removeChild(t)},r.removeAnimationAt=function(t){this.removeChildAt(t)},r.stepAllLayer=function(){for(var t=0;t<this.anmArray.length;t++)this.anmArray[t].gotoAndStop(this.currentFrame)},r.addFrameScript=function(t,i,e,s){if(void 0===e&&(e=this),void 0===s&&(s=!0),isNaN(Math.floor(t))||Math.floor(t)<0||Math.floor(t)>this.$totalFrames-1)throw new Error("事件帧序号超出有效范围");this.callBackFunctionCollection[Math.floor(t)]=i.bind(e),s&&Math.floor(t)==this.start&&this.executeFrameScript&&this.callBackFunctionCollection[Math.floor(t)].call(null)},r.addFrameScriptOnce=function(t,i,e,s){if(void 0===e&&(e=this),void 0===s&&(s=!0),isNaN(Math.floor(t))||Math.floor(t)<0||Math.floor(t)>this.$totalFrames-1)throw new Error("事件帧序号超出有效范围");this.callBackFunctionCollection[Math.floor(t)]=function(){i.bind(e).call(null),this.removeFrameScript(Math.floor(t))}.bind(this),s&&Math.floor(t)==this.start&&this.executeFrameScript&&this.callBackFunctionCollection[Math.floor(t)].call(null)},r.removeFrameScript=function(t){if(Math.floor(t)<0||Math.floor(t)>this.$totalFrames-1)throw new Error("事件帧序号超出有效范围");this.callBackFunctionCollection&&this.callBackFunctionCollection[Math.floor(t)]&&delete this.callBackFunctionCollection[Math.floor(t)]},r.play=function(){return 1==this.$totalFrames?void this.stop():(this.$isPlaying=!0,this.$driverType==disTypes.DriverType.FRAME?(this.addEventListener(egret.Event.ENTER_FRAME,this.playHandler,this),this.timer&&(this.timer.removeEventListener(egret.TimerEvent.TIMER,this.playHandler,this),this.timer.stop())):this.$driverType==disTypes.DriverType.TIMER&&(this.timer||(this.timer=new egret.Timer(this.playInterval)),this.timer.addEventListener(egret.TimerEvent.TIMER,this.playHandler,this),this.timer.delay=this.playInterval,this.timer.start()),void this.stepAllLayer())},r.gotoAndPlay=function(t){if(1==this.$totalFrames)return void this.stop();this.$isAutoEnter=!1;var i=this.$currentFrame;this.$currentFrame=Math.floor(t),this.$currentFrame<1?this.$currentFrame=1:this.$currentFrame>this.$totalFrames&&(this.$currentFrame=this.$totalFrames),this.start=this.$currentFrame,this.callBackFunctionCollection&&this.executeFrameScript&&this.callBackFunctionCollection[this.$currentFrame-1]&&i!=this.$currentFrame&&this.callBackFunctionCollection[this.$currentFrame-1].call(null),this.play()},r.stop=function(){this.$isPlaying=!1,this.removeEventListener(egret.Event.ENTER_FRAME,this.playHandler,this),this.timer&&(this.timer.removeEventListener(egret.TimerEvent.TIMER,this.playHandler,this),this.timer.stop()),this.start=this.$currentFrame,this.stepAllLayer()},r.gotoAndStop=function(t){if(1==this.$totalFrames)return void this.stop();this.$isAutoEnter=!1;var i=this.$currentFrame;this.$currentFrame=Math.floor(t),this.$currentFrame<1?this.$currentFrame=1:this.$currentFrame>this.$totalFrames&&(this.$currentFrame=this.$totalFrames),this.stop(),this.callBackFunctionCollection&&this.executeFrameScript&&this.callBackFunctionCollection[this.$currentFrame-1]&&i!=this.$currentFrame&&this.callBackFunctionCollection[this.$currentFrame-1].call(null)},r.playHandler=function(){if(this.$isPlaying&&this.executeDriverType)if(this.$driverType==disTypes.DriverType.FRAME){for(this.currentInterval++;this.currentInterval>=2*this.playInterval;)if(this.currentInterval-=this.playInterval,this.autoNextFrame(!1),!this.$isPlaying)return;this.currentInterval>=this.playInterval&&(this.currentInterval-=this.playInterval,this.autoNextFrame(!0))}else this.$driverType==disTypes.DriverType.TIMER&&this.autoNextFrame()},r.autoNextFrame=function(t){void 0===t&&(t=!0),this.$isAutoEnter=!0,this.start<=this.$totalFrames&&this.start++,this.start>this.$totalFrames&&(this.isPlaying?this.start=1:this.start=this.$totalFrames),this.executeLoop&&this.isPlaying&&this.$currentFrame==this.$loopEndFrame&&(this.start=this.$loopStartFrame);var i=this.$currentFrame;this.$currentFrame=this.start,this.executeLoop&&this.isPlaying&&this.start==this.$loopStartFrame&&this.start==this.$loopEndFrame&&this.stop(),this.callBackFunctionCollection&&this.executeFrameScript&&this.callBackFunctionCollection[this.$currentFrame-1]&&i!=this.$currentFrame&&this.callBackFunctionCollection[this.$currentFrame-1].call(null),this.$isPlaying&&this.stepAllLayer()},r.autoPrevFrame=function(t){void 0===t&&(t=!0),this.start>1&&(this.start--,this.$isAutoEnter=!0),this.start<1&&(this.start=1),this.$currentFrame=this.start,this.callBackFunctionCollection&&this.executeFrameScript&&this.callBackFunctionCollection[this.$currentFrame-1]&&this.callBackFunctionCollection[this.$currentFrame-1].call(null),this.stepAllLayer()},r.nextFrame=function(){this.stop(),this.start<this.$totalFrames&&this.autoNextFrame()},r.prevFrame=function(){this.stop(),this.start>1&&this.autoPrevFrame()},e(r,"isAutoEnter",function(){return this.$isAutoEnter}),r.destroy=function(){for(t.prototype.destroy.call(this);this.numChildren>0;){if(egret.is(this.getChildAt(0),"disDev.AbstractAnimation")){var i=this.getChildAt(0);i.destroy()}this.removeChildAt(0)}this.anmArray=null},r.setDriver=function(t,i){if(void 0===t&&(t=disTypes.DriverType.FRAME),void 0===i&&(i=1),0>=i)throw new Error("驱动间隔不能等于或小于0！");this.executeDriverType&&(this.$driverType=t,this.playInterval=i,this.$driverTypeOnLooping=this.$driverType,this.$playIntervalOnLooping=this.playInterval,this.currentInterval=0,t==disTypes.DriverType.FRAME&&this.playInterval%1!=0||t==disTypes.DriverType.TIMER&&this.playInterval<16,this.isPlaying&&(this.removeEventListener(egret.Event.ENTER_FRAME,this.playHandler,this),this.timer&&(this.timer.removeEventListener(egret.TimerEvent.TIMER,this.playHandler,this),this.timer.stop()),this.play()))},e(r,"frameInterval",void 0,function(t){this.setDriver(disTypes.DriverType.FRAME,t)}),e(r,"timerInterval",void 0,function(t){this.setDriver(disTypes.DriverType.TIMER,t)}),e(r,"driverType",function(){return this.$driverType}),i}(t.AbstractAnimation);t.AnimationMerger=i,egret.registerClass(i,"disDev.AnimationMerger",["disDev.IAnimation","disDev.IDisplayObjectLite","egret.IEventDispatcher"])}(disDev||(disDev={}));var disDev;!function(t){var i=function(t){function i(i,e,s){void 0===i&&(i=null),void 0===e&&(e=i),void 0===s&&(s=i),t.call(this),i&&this.reconstruct(i,e,s)}__extends(i,t);var e=__define,s=i,r=s.prototype;return r.reconstruct=function(t,i,e){void 0===i&&(i=t),void 0===e&&(e=t),this.$normalTexture=t,this.$pressTexture=i,this.$disabledTexture=e,this.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this),this.stage&&(this.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.touchEnd,this),this.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.touchMove,this),this.$stageObj=null),this.turnNormal(),this.touchEnabled=!0,this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this)},r.setScale9Grids=function(t){this.normalScale9Grid=t.normalGrid,this.pressScale9Grid=t.pressGrid,this.disabledScale9Grid=t.disabledGrid},r.setTouchRangeShape=function(t){this.touchRangeShape&&this.touchRangeShape.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this),this.touchRangeShape=t,this.touchEnabled=this.$touchEnabled,this.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this),this.touchRangeShape.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this)},r.onTouchBegin=function(t){this.turnPress(),this.stage&&(this.$stageObj=this.stage,this.stage.addEventListener(egret.TouchEvent.TOUCH_END,this.touchEnd,this),this.stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.touchMove,this))},r.touchMove=function(t){var i=this.globalToLocal(t.stageX,t.stageY);if(this.touchRangeShape)this.touchRangeShape.hitTestPoint(t.stageX,t.stageY,!0)?"press"!=this.$currentTexture&&this.turnPress():"normal"!=this.$currentTexture&&this.turnNormal();else{var e=this.getBounds(),s=new egret.Rectangle(e.x+this.anchorOffsetX,e.y+this.anchorOffsetY,e.width,e.height);i.x<s.x||i.y<s.y||i.x>s.x+s.width||i.y>s.y+s.height?"normal"!=this.$currentTexture&&this.turnNormal():"press"!=this.$currentTexture&&this.turnPress()}},r.touchEnd=function(t){this.turnNormal(),this.$stageObj&&(this.$stageObj.removeEventListener(egret.TouchEvent.TOUCH_END,this.touchEnd,this),this.$stageObj.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.touchMove,this),this.$stageObj=null)},r.turnNormal=function(){this.scale9Grid=this.$normalScale9Grid,this.texture=RES.getRes(this.$normalTexture),this.$currentTexture="normal"},r.turnPress=function(){this.scale9Grid=this.$pressScale9Grid,this.texture=RES.getRes(this.$pressTexture),this.$currentTexture="press"},r.turnDisabled=function(){this.scale9Grid=this.$disabledScale9Grid,this.texture=RES.getRes(this.$disabledTexture),this.$currentTexture="disabled"},e(r,"touchEnabled",function(){return this.$touchEnabled},function(i){0==i?(this.touchEnd(null),this.turnDisabled()):1==i&&this.turnNormal(),this.touchRangeShape?(t.prototype.$setTouchEnabled.call(this,!1),this.touchRangeShape.touchEnabled=i):t.prototype.$setTouchEnabled.call(this,i),this.$touchEnabled=i}),e(r,"normalScale9Grid",function(){return this.$normalScale9Grid},function(t){this.$normalScale9Grid=t,"normal"==this.$currentTexture&&this.turnNormal()}),e(r,"pressScale9Grid",function(){return this.$pressScale9Grid},function(t){this.$pressScale9Grid=t,"press"==this.$currentTexture&&this.turnPress()}),e(r,"disabledScale9Grid",function(){return this.$disabledScale9Grid},function(t){this.$disabledScale9Grid=t,"disabled"==this.$currentTexture&&this.turnDisabled()}),e(r,"scaleWidth",function(){return this.width*this.scaleX},function(t){this.scaleX=t/this.width}),e(r,"scaleHeight",function(){return this.height*this.scaleY},function(t){this.scaleY=t/this.height}),r.destroy=function(){this.texture=null,this.$stageObj&&(this.$stageObj.removeEventListener(egret.TouchEvent.TOUCH_END,this.touchEnd,this),this.$stageObj.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.touchMove,this),this.$stageObj=null)},i}(egret.Bitmap);t.ButtonLite=i,egret.registerClass(i,"disDev.ButtonLite",["disDev.IDisplayObjectLite","egret.IEventDispatcher"])}(disDev||(disDev={}));var Scale9Grids=function(){function t(t,i,e){void 0===i&&(i=t),void 0===e&&(e=t),this.normalGrid=t,this.pressGrid=i,this.disabledGrid=e}var i=(__define,t);i.prototype;return t}();egret.registerClass(Scale9Grids,"Scale9Grids");var disDev;!function(t){var i=function(t){function i(i){t.call(this),this.fcoArray=i,this.frameDisplayObjectsArray={},this.labelFromIndex={},this.indexFromLabel={},this.continuationFromIndex={},this.layerFromIndex={};for(var e=0;e<i.length;e++){var s=i[e].frame-1;this.frameDisplayObjectsArray[s]=i[e].classNameArray,this.indexFromLabel["label_"+i[e].frameLabel]=s,this.labelFromIndex[s]=i[e].frameLabel,this.continuationFromIndex=i[e].continuation,this.layerFromIndex=i[e].layer}}__extends(i,t);var e=__define,s=i,r=s.prototype;return r.gotoAndStop=function(t){},e(r,"scaleWidth",function(){return this.width*this.scaleX},function(t){this.scaleX=t/this.width}),e(r,"scaleHeight",function(){return this.height*this.scaleY},function(t){this.scaleY=t/this.height}),r.destroy=function(){},i}(egret.Sprite);t.MovieClipPlus=i,egret.registerClass(i,"disDev.MovieClipPlus",["disDev.IDisplayObjectLite","egret.IEventDispatcher"])}(disDev||(disDev={}));var FrameContentObject=function(){function t(t,i,e,s,r){void 0===i&&(i=null),void 0===e&&(e=null),void 0===s&&(s=1),void 0===r&&(r=0),this.frame=0,this.frame=1>t?1:Math.floor(t),this.classNameArray=i,this.frameLabel=e,this.continuation=1>s?1:Math.floor(s),this.layer=r}var i=(__define,t);i.prototype;return t}();egret.registerClass(FrameContentObject,"FrameContentObject");var TypeAndName=function(){function t(t,i){this.classType=t,this.instanceName=i}var i=(__define,t);i.prototype;return t}();egret.registerClass(TypeAndName,"TypeAndName");var disTypes;!function(t){!function(t){t[t.TopAndLeft=0]="TopAndLeft",t[t.TopAndMiddle=1]="TopAndMiddle",t[t.TopAndRight=2]="TopAndRight",t[t.MiddleAndLeft=3]="MiddleAndLeft",t[t.Center=4]="Center",t[t.MiddleAndRight=5]="MiddleAndRight",t[t.BottomAndLeft=6]="BottomAndLeft",t[t.BottomAndMiddle=7]="BottomAndMiddle",t[t.BottomAndRight=8]="BottomAndRight"}(t.BitmapAlignEnum||(t.BitmapAlignEnum={}));t.BitmapAlignEnum}(disTypes||(disTypes={}));var disTypes;!function(t){var i=function(){function t(){throw new Error(this.__class__+" 是静态成员集成类，无需实例化")}var i=(__define,t);i.prototype;return t.FRAME="runFrame",t.TIMER="runTimer",t}();t.DriverType=i,egret.registerClass(i,"disTypes.DriverType")}(disTypes||(disTypes={}));var FontSpriteButton=function(t){function i(i,e,s){void 0===e&&(e=""),void 0===s&&(s=""),t.call(this),this.init(i,e,s)}__extends(i,t);var e=(__define,i),s=e.prototype;return s.init=function(t,i,e){""!=i&&(this.$upPng=new SimpleSprite(i),this.addChild(this.$upPng)),""!=e&&(this.$downPng=new SimpleSprite(e),this.addChild(this.$downPng),this.$downPng.visible=!1),this.$fontPng=new SimpleSprite(t),this.addChild(this.$fontPng),this.$fontPng.x=(this.width-this.$fontPng.width)/2,this.$fontPng.y=(this.height-this.$fontPng.height)/2,this.touchChildren=!1,this.touchEnabled=!0,""!=e&&""!=i&&(this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin_handler,this),this.addEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEnd_handler,this))},s.onTouchBegin_handler=function(t){this.$downPng&&(this.$downPng.visible=!0),this.$upPng&&(this.$upPng.visible=!1)},s.onTouchEnd_handler=function(t){this.$downPng&&(this.$downPng.visible=!1),this.$upPng&&(this.$upPng.visible=!0)},i}(egret.Sprite);egret.registerClass(FontSpriteButton,"FontSpriteButton");var SimpleAnimation=function(t){function i(i,e,s){t.call(this),this.init(i,e,s)}__extends(i,t);var e=__define,s=i,r=s.prototype;return r.init=function(t,i,e){var s=RES.getRes(t),r=RES.getRes(i),n=RES.getRes(e),a=new dragonBones.EgretFactory;a.addDragonBonesData(dragonBones.DataParser.parseDragonBonesData(s)),a.addTextureAtlas(new dragonBones.EgretTextureAtlas(n,r)),this.$dragonbonesFactory=a;var o=a.buildArmature("Armature");this.addChild(o.display),dragonBones.WorldClock.clock.add(o),egret.Ticker.getInstance().register(function(t){dragonBones.WorldClock.clock.advanceTime(.01)},this),this.$armature=o},r.gotoAndPlay=function(t,i,e,s,r,n,a,o,h){void 0===i&&(i=0),void 0===e&&(e=0),void 0===s&&(s=0),void 0===r&&(r=0),void 0===n&&(n=""),void 0===a&&(a=""),void 0===o&&(o=!1),void 0===h&&(h=!1),this.$armature.animation.gotoAndPlay(t,i,e,s,r,n,a,o,h)},r.gotoAndStop=function(t,i,e,s,r,n,a,o){void 0===i&&(i=0),void 0===e&&(e=0),void 0===s&&(s=0),void 0===r&&(r=0),void 0===n&&(n=0),void 0===a&&(a=""),void 0===o&&(o=""),this.$armature.animation.gotoAndStop(t,i,e,s,r,n,a,o)},e(r,"lastAnimationName",function(){return this.$armature.animation.lastAnimationName}),r.addEventListener=function(t,i,e,s,r){void 0===s&&(s=!1),void 0===r&&(r=0),this.$armature.addEventListener(t,i,e,s,r)},r.removeEventListener=function(t,i,e,s){void 0===s&&(s=!1),this.$armature.removeEventListener(t,i,e,s)},e(r,"factory",function(){return this.$dragonbonesFactory}),e(r,"armature",function(){return this.$armature}),r.getBone=function(t){return this.$armature.getBone(t)},i}(egret.Sprite);egret.registerClass(SimpleAnimation,"SimpleAnimation");var SimpleButton=function(t){function i(i,e,s){t.call(this),this.init(i,e,s),this.addEvent()}__extends(i,t);var e=__define,s=i,r=s.prototype;return r.init=function(t,i,e){var s=RES.getRes(e),r=RES.getRes(t),n=new egret.MovieClipDataFactory(s,r);this.mc=new egret.MovieClip(n.generateMovieClipData(i)),this.enabled=!0,this.addChild(this.mc)},r.addEvent=function(){this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchDown,this),this.addEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEndHandle,this)},r.onTouchDown=function(t){this.mc.gotoAndStop(2)},r.onTouchEndHandle=function(t){this.mc.gotoAndStop(1)},e(r,"enabled",void 0,function(t){this.touchEnabled=t,this.touchChildren=t,this.mc.gotoAndStop(t?1:2)}),i}(egret.Sprite);egret.registerClass(SimpleButton,"SimpleButton");var SimpleMovieClip=function(t){function i(i,e,s){t.call(this),this.init(i,e,s)}__extends(i,t);var e=__define,s=i,r=s.prototype;return r.init=function(t,i,e){var s=RES.getRes(e),r=RES.getRes(t),n=new egret.MovieClipDataFactory(s,r);this.mc=new egret.MovieClip(n.generateMovieClipData(i)),this.addChild(this.mc)},r.gotoAndStop=function(t){this.mc.gotoAndStop(t)},r.gotoAndPlay=function(t){this.mc.gotoAndPlay(t)},r.play=function(t){this.mc.play(t)},r.addCompletedCall=function(t,i,e){void 0===e&&(e=null),i&&(this.mc.hasEventListener(egret.Event.ENTER_FRAME)||this.mc.addEventListener(egret.Event.ENTER_FRAME,this.onEnterFrame,this),this.completedCallFun=i,this.params=e,this.thisArg=t)},r.onEnterFrame=function(t){this.mc.currentFrame==this.mc.totalFrames&&this.completedCallFun&&(this.mc.gotoAndStop(1),this.mc.removeEventListener(egret.Event.ENTER_FRAME,this.onEnterFrame,this),this.completedCallFun.call(this.thisArg,this.params))},e(r,"currentFrame",function(){return this.mc.currentFrame}),e(r,"currentFrameLabel",function(){return this.mc.currentFrameLabel}),i}(egret.Sprite);egret.registerClass(SimpleMovieClip,"SimpleMovieClip");var SimpleSound=function(){function t(t){if(RES.hasRes(t)){var i=RES.getRes(t);this.$sound=i}}var i=__define,e=t,s=e.prototype;return s.startPlay=function(t,i,e,s){void 0===t&&(t=0),void 0===i&&(i=0),void 0===e&&(e=null),void 0===s&&(s=null);for(var r=[],n=4;n<arguments.length;n++)r[n-4]=arguments[n];this.$sound&&(this.$thisArg=e,this.$soundCompleted=s,this.$params=r,this.$channel=this.$sound.play(t,i),this.$loop=i,this.$soundCompleted&&this.$channel.addEventListener(egret.Event.SOUND_COMPLETE,this.onSoundCompleted,this))},s.onSoundCompleted=function(t){this.$channel.removeEventListener(egret.Event.SOUND_COMPLETE,this.onSoundCompleted,this),this.$soundCompleted&&(i=this.$soundCompleted).call.apply(i,[this.$thisArg].concat(this.$params));var i},s.stop=function(){this.$channel&&this.$channel.stop()},i(s,"position",function(){return this.$channel?this.$channel.position:0}),s.play=function(){this.startPlay(this.position,this.$loop,this.$thisArg,this.$soundCompleted,this.$params)},t}();egret.registerClass(SimpleSound,"SimpleSound");var SimpleSprite=function(t){function i(i){t.call(this),this.init(i)}__extends(i,t);var e=(__define,i),s=e.prototype;return s.init=function(t){var i=RES.getRes(t),e=new egret.Bitmap(i);this.addChild(e),this.$img=e},s.setCenter=function(){this.$img.x=this.$img.width/2,this.$img.y=this.$img.height/2},s.setTexture=function(t){this.$img.texture=RES.getRes(t)},i}(egret.Sprite);egret.registerClass(SimpleSprite,"SimpleSprite");var TimeoutManager=function(){function t(){}var i=(__define,t);i.prototype;return t.add=function(i,e){t.DIC||(t.DIC=[]),t.DIC[i]=e},t.addItInArr=function(i,e){t.DICARR||(t.DICARR=[]),t.DICARR[i]||(t.DICARR[i]=[]),t.DICARR[i].push(e)},t.clean=function(){if(t.DIC){for(var i=0;i<t.DIC.length;i++)egret.clearTimeout(t.DIC[i]);t.DIC=null}},t.cleanByDsc=function(i){if(t.DICARR)for(var e in t.DICARR)if(i==e){for(var s=0;s<t.DICARR[e].length;s++)egret.clearTimeout(t.DICARR[e][s]);break}if(t.DIC)for(var s=0;s<t.DIC.length;s++)if(i==e){egret.clearTimeout(t.DIC[s]);break}},t}();egret.registerClass(TimeoutManager,"TimeoutManager");var AdBoard=function(t){function i(){t.call(this),this.$index=0,this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this)}__extends(i,t);var e=(__define,i),s=e.prototype;return s.onAddToStage=function(t){var i=new egret.ImageLoader;i.addEventListener(egret.Event.COMPLETE,this.imgLoadHandler,this),this.$imgLoader=i},s.load=function(t){this.$urlArr=t,this.$imgLoader.load(t[0])},s.imgLoadHandler=function(t){var e=t.currentTarget,s=e.data,r=new egret.Bitmap(s);this.addChild(r),this.$urlArr.length>1&&(this.$timeOutId=egret.setTimeout(this.getNextAd,this,i.$TIME,this.$urlArr[this.getNextIndex()]))},s.getNextAd=function(t){this.removeChildAt(0),this.$imgLoader.load(t)},s.getNextIndex=function(){return this.$urlArr&&this.$urlArr.length>1&&this.$index++,this.$index==this.$urlArr.length&&(this.$index=0),this.$index},s.clearTimeout=function(){egret.clearTimeout(this.$timeOutId)},i.$TIME=3e3,i}(egret.Sprite);egret.registerClass(AdBoard,"AdBoard");var ArrowCtr=function(t){function i(){t.call(this),this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this)}__extends(i,t);var e=(__define,i),s=e.prototype;return s.onAddToStage=function(t){this.touchChildren=!1,this.touchEnabled=!0,this.$bg=new SimpleSprite(VideoAssets.ARROWBG_PNG),this.addChild(this.$bg),this.$bg.scaleX=2,this.$bg.scaleY=1.5,this.$bg.width*=2,this.$bg.height*=1.5,this.$arrowUp=new SimpleSprite(VideoAssets.BTN_ARROW_PNG),this.addChild(this.$arrowUp),this.$arrowUp.rotation=180,this.$arrowDown=new SimpleSprite(VideoAssets.BTN_ARROW_PNG),this.addChild(this.$arrowDown),this.$arrowUp.scaleX=this.$arrowDown.scaleX=1.5,this.$arrowUp.scaleY=this.$arrowDown.scaleY=1.5,this.$arrowUp.width=this.$arrowDown.width=1.5*this.$arrowDown.width,this.$arrowUp.height=this.$arrowDown.height=1.5*this.$arrowDown.height,this.$arrowDown.x=this.$bg.x+(this.$bg.width-this.$arrowDown.width)/2,this.$arrowDown.y=this.$bg.y+(this.$bg.height-this.$arrowDown.height)/2,this.$arrowUp.x=this.$arrowDown.x+this.$arrowUp.width,this.$arrowUp.y=this.$arrowUp.height+this.$arrowDown.y,this.$arrowUp.visible=!1
},s.setArrow=function(){this.$arrowDown.visible?(this.$arrowDown.visible=!1,this.$arrowUp.visible=!0):(this.$arrowDown.visible=!0,this.$arrowUp.visible=!1)},i}(egret.Sprite);egret.registerClass(ArrowCtr,"ArrowCtr");var Tween=egret.Tween,AwardBar=function(t){function i(){t.call(this),this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this),this.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemoveFromStage,this)}__extends(i,t);var e=(__define,i),s=e.prototype;return s.onRemoveFromStage=function(t){this.clear()},s.onAddToStage=function(t){this.$timeOutIdArr=[],this.$tweenArr=[],this.$line1=new SimpleSprite(VideoAssets.LINE1_PNG),this.addChild(this.$line1),this.$line2=new SimpleSprite(VideoAssets.LINE2_PNG),this.addChild(this.$line2),this.$line2.y=1.1*this.$line1.height,this.$rollCircle=new RollCircle,this.addChild(this.$rollCircle),this.$rollCircle.x=this.$line1.x+this.$line1.width+this.$rollCircle.width/2+28,this.$rollCircle.y=this.$line1.y+this.$line1.height-this.$rollCircle.height/2-1,this.$zodiacMc1=new ZodiacMc,this.addChild(this.$zodiacMc1),this.$zodiacMc1.setIt(VideoAssets.MOUSE_PNG,VideoAssets.SOIL_PNG),this.$zodiacMc1.y=this.$line2.y+(this.$line2.height-this.$zodiacMc1.height)/2,this.$zodiacMc1.x=this.$line2.x+i.$ZODIC_X,this.$zodiacMc2=new ZodiacMc,this.addChild(this.$zodiacMc2),this.$zodiacMc2.setIt(VideoAssets.MOUSE_PNG,VideoAssets.SOIL_PNG),this.$zodiacMc2.x=this.$zodiacMc1.x+this.$zodiacMc1.width+i.$ZODIC_X,this.$zodiacMc3=new ZodiacMc,this.addChild(this.$zodiacMc3),this.$zodiacMc3.setIt(VideoAssets.MOUSE_PNG,VideoAssets.SOIL_PNG),this.$zodiacMc3.x=this.$zodiacMc2.x+this.$zodiacMc2.width+i.$ZODIC_X,this.$zodiacMc4=new ZodiacMc,this.addChild(this.$zodiacMc4),this.$zodiacMc4.setIt(VideoAssets.MOUSE_PNG,VideoAssets.SOIL_PNG),this.$zodiacMc4.x=this.$zodiacMc3.x+this.$zodiacMc3.width+i.$ZODIC_X,this.$zodiacMc5=new ZodiacMc,this.addChild(this.$zodiacMc5),this.$zodiacMc5.setIt(VideoAssets.MOUSE_PNG,VideoAssets.SOIL_PNG),this.$zodiacMc5.x=this.$zodiacMc4.x+this.$zodiacMc4.width+i.$ZODIC_X,this.$zodiacMc6=new ZodiacMc,this.addChild(this.$zodiacMc6),this.$zodiacMc6.setIt(VideoAssets.MOUSE_PNG,VideoAssets.SOIL_PNG),this.$zodiacMc6.x=this.$zodiacMc5.x+this.$zodiacMc5.width+i.$ZODIC_X,this.$zodiacMc7=new ZodiacMc,this.addChild(this.$zodiacMc7),this.$zodiacMc7.setIt(VideoAssets.MOUSE_PNG,VideoAssets.SOIL_PNG),this.$zodiacMc7.x=this.$zodiacMc6.x+this.$zodiacMc6.width+i.$ZODIC_X,this.$zodiacMc5.y=this.$zodiacMc4.y=this.$zodiacMc3.y=this.$zodiacMc2.y=this.$zodiacMc1.y,this.$zodiacMc6.y=this.$zodiacMc7.y=this.$zodiacMc1.y,this.$ball1=new BallMc,this.addChild(this.$ball1),this.$ball1.setBallSkin(VideoAssets.RED_BALL_PNG,0),this.$ball1.x=this.$zodiacMc1.x+(this.$zodiacMc1.width-this.$ball1.width)/2,this.$ball2=new BallMc,this.addChild(this.$ball2),this.$ball2.setBallSkin(VideoAssets.RED_BALL_PNG,0),this.$ball2.x=this.$zodiacMc2.x+(this.$zodiacMc2.width-this.$ball1.width)/2,this.$ball3=new BallMc,this.addChild(this.$ball3),this.$ball3.setBallSkin(VideoAssets.RED_BALL_PNG,0),this.$ball3.x=this.$zodiacMc3.x+(this.$zodiacMc3.width-this.$ball1.width)/2,this.$ball4=new BallMc,this.addChild(this.$ball4),this.$ball4.setBallSkin(VideoAssets.RED_BALL_PNG,0),this.$ball4.x=this.$zodiacMc4.x+(this.$zodiacMc4.width-this.$ball1.width)/2,this.$ball5=new BallMc,this.addChild(this.$ball5),this.$ball5.setBallSkin(VideoAssets.RED_BALL_PNG,0),this.$ball5.x=this.$zodiacMc5.x+(this.$zodiacMc5.width-this.$ball1.width)/2,this.$ball6=new BallMc,this.addChild(this.$ball6),this.$ball6.setBallSkin(VideoAssets.RED_BALL_PNG,0),this.$ball6.x=this.$zodiacMc6.x+(this.$zodiacMc6.width-this.$ball1.width)/2,this.$ball7=new BallMc,this.addChild(this.$ball7),this.$ball7.setBallSkin(VideoAssets.RED_BALL_PNG,0),this.$ball7.x=this.$zodiacMc7.x+(this.$zodiacMc7.width-this.$ball1.width)/2,this.$ball1.y=this.$line1.y+(this.$line1.height-this.$ball1.height)/2,this.$ball2.y=this.$ball3.y=this.$ball4.y=this.$ball5.y=this.$ball6.y=this.$ball7.y=this.$ball1.y,this.$ball_endPos=[],this.$ball_startPos=[];for(var e=1;7>=e;e++){var s=this["$ball"+String(e)];this.$ball_endPos.push({x:s.x,y:s.y}),this.$ball_startPos.push({x:s.x-100,y:s.y+400}),s.alpha=0}this.clear()},s.setBar=function(t,i,e,s,r){var n=t.toString(),a=this["$ball"+n];a.setBallSkin(r,i),a.visible=!0,a.x=a.x-600,a.y=a.y+400,a.scaleX=a.scaleY=1.2,this.$awardSound=new SimpleSound(i.toString()+"_mp3"),Config.SOUND_OPENED&&this.$awardSound.startPlay(0,1);var o=Tween.get(a);o.to({alpha:1,x:this.$ball_endPos[t-1].x,y:this.$ball_endPos[t-1].y,scaleX:1,scaleY:1},500),this.$tweenArr.push(a),this.$timeOutIdArr.push(egret.setTimeout(this.setAnimal,this,1e3,t,e,s))},s.setAnimal=function(t,i,e){this.$animalSound=new SimpleSound(VideoAssets["ZODIAC_"+i.toLocaleUpperCase()+"_MP3"]),Config.SOUND_OPENED&&this.$animalSound.startPlay(0,1);var s=t.toString(),r=this["$zodiacMc"+s];r.setIt(i,e),r.visible=!0;var n=this.$tweenArr.shift();egret.Tween.removeTweens(n)},s.clear=function(){if(this.$ball1.visible=this.$ball2.visible=this.$ball3.visible=this.$ball4.visible=this.$ball5.visible=!1,this.$ball6.visible=this.$ball7.visible=!1,this.$zodiacMc1.visible=this.$zodiacMc2.visible=this.$zodiacMc3.visible=this.$zodiacMc4.visible=this.$zodiacMc5.visible=!1,this.$zodiacMc6.visible=this.$zodiacMc7.visible=!1,this.$timeOutIdArr)for(var t=0;t<this.$timeOutIdArr.length;t++)egret.clearTimeout(this.$timeOutIdArr[t]);if(this.$tweenArr)for(t=0;t<this.$tweenArr.length;t++)egret.Tween.removeTweens(this.$tweenArr[t])},i.$ZODIC_X=27,i}(egret.Sprite);egret.registerClass(AwardBar,"AwardBar");var BallMc=function(t){function i(){t.call(this),this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToSatge,this)}__extends(i,t);var e=(__define,i),s=e.prototype;return s.onAddToSatge=function(t){var i=[VideoAssets.RED_BALL_PNG,VideoAssets.BLUE_BALL_PNG,VideoAssets.GREEN_BALL_PNG];this.$ballColor=new CustomMovieClip,this.addChild(this.$ballColor),this.$ballColor.init(i),this.$numArr=[VideoAssets.BALL_0_PNG,VideoAssets.BALL_1_PNG,VideoAssets.BALL_2_PNG,VideoAssets.BALL_3_PNG,VideoAssets.BALL_4_PNG,VideoAssets.BALL_5_PNG,VideoAssets.BALL_6_PNG,VideoAssets.BALL_7_PNG,VideoAssets.BALL_8_PNG,VideoAssets.BALL_9_PNG],this.$numContainor=new egret.Sprite,this.addChild(this.$numContainor)},s.setBallSkin=function(t,i){for(this.$ballColor.setFrameName(VideoAssets[t.toLocaleUpperCase()+"_BALL_PNG"]);this.$numContainor.numChildren;)this.$numContainor.removeChildAt(0);var e=i.toString();1==e.length&&(e="0"+e);for(var s=e.split(""),r=0;r<s.length;r++){var n=new CustomMovieClip;this.$numContainor.addChild(n),n.init(this.$numArr),n.setFrame(parseInt(s[r])),n.x=n.width*r}this.$numContainor.x=(this.$ballColor.width-this.$numContainor.width)/2,this.$numContainor.y=(this.$ballColor.height-this.$numContainor.height)/2},i}(egret.Sprite);egret.registerClass(BallMc,"BallMc");var CustomMovieClip=function(t){function i(){t.call(this),this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToSatge,this)}__extends(i,t);var e=__define,s=i,r=s.prototype;return r.onAddToSatge=function(t){this.$numsArr=[],this.$numSpriteArr=[]},r.init=function(t){if(this.$numsArr=t,t){this.$numSpriteArr||(this.$numSpriteArr=[]);for(var i=0;i<t.length;i++)this.$numSpriteArr.push(new SimpleSprite(t[i])),this.addChild(this.$numSpriteArr[i]),this.$numSpriteArr[i].visible=!1}this.setFrame(0)},r.setFrame=function(t){this.$lastNum&&(this.$lastNum.visible=!1),this.$numSpriteArr&&this.$numSpriteArr[t]&&(this.$numSpriteArr[t].visible=!0,this.$lastNum=this.$numSpriteArr[t])},r.setFrameName=function(t){if(this.$numsArr){var i=this.$numsArr.indexOf(t);this.setFrame(i)}},e(r,"numsArr",function(){return this.$numsArr}),i}(egret.Sprite);egret.registerClass(CustomMovieClip,"CustomMovieClip");var PeriodMc=function(t){function i(){t.call(this),this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToSatge,this)}__extends(i,t);var e=(__define,i),s=e.prototype;return s.onAddToSatge=function(t){this.$numMc1=new CustomMovieClip,this.addChild(this.$numMc1),this.$numMc2=new CustomMovieClip,this.addChild(this.$numMc2),this.$numMc3=new CustomMovieClip,this.addChild(this.$numMc3);var i=new SimpleSprite(VideoAssets.PERIOD_THE_PNG);this.addChild(i);var e=new SimpleSprite(VideoAssets.PERIOD_TIMES_PNG);this.addChild(e),e.x=i.x+i.width+100,this.$numMc1=new CustomMovieClip,this.addChild(this.$numMc1),this.$numMc2=new CustomMovieClip,this.addChild(this.$numMc2),this.$numMc3=new CustomMovieClip,this.addChild(this.$numMc3);var s=[VideoAssets.PERIOD_0_PNG,VideoAssets.PERIOD_1_PNG,VideoAssets.PERIOD_2_PNG,VideoAssets.PERIOD_3_PNG,VideoAssets.PERIOD_4_PNG,VideoAssets.PERIOD_5_PNG,VideoAssets.PERIOD_6_PNG,VideoAssets.PERIOD_7_PNG,VideoAssets.PERIOD_8_PNG,VideoAssets.PERIOD_9_PNG];this.$numMc1.init(s),this.$numMc2.init(s),this.$numMc3.init(s),this.$numMc1.x=i.x+i.width+5,this.$numMc2.x=this.$numMc1.width+this.$numMc1.x+5,this.$numMc3.x=this.$numMc2.width+this.$numMc2.x+5,this.$numMc1.y=this.$numMc2.y=this.$numMc3.y=(i.height-this.$numMc1.height)/2},s.setPeriod=function(t){var i=t.toString().split("");if(i.length<3)for(var e=3-i.length,s=0;e>s;s++)i.unshift("0");for(var r=0;r<i.length;r++){var n=this["$numMc"+(r+1).toString()];n.setFrame(parseInt(i[r]))}},i}(egret.Sprite);egret.registerClass(PeriodMc,"PeriodMc");var RollCircle=function(t){function i(){t.call(this),this.init()}__extends(i,t);var e=(__define,i),s=e.prototype;return s.init=function(){var t=RES.getRes(VideoAssets.BALL_CIRCLE_PNG),i=new egret.Bitmap(t);this.addChild(i),i.x=-i.width/2,i.y=-i.height/2,this.addEventListener(egret.Event.ENTER_FRAME,this.onEnterFrame_handler,this)},s.onEnterFrame_handler=function(t){this.rotation+=5},i}(egret.Sprite);egret.registerClass(RollCircle,"RollCircle");var Video=egret.Video,SceneTypeMc=function(t){function i(){t.call(this),this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToSatge,this)}__extends(i,t);var e=(__define,i),s=e.prototype;return s.onAddToSatge=function(t){var i=new SimpleSprite(VideoAssets.SCENE_BG_PNG);this.addChild(i),this.$historySp=new SimpleSprite(VideoAssets.SCENE_HISTORY_PNG),this.addChild(this.$historySp),this.$liveSp=new SimpleSprite(VideoAssets.SCENE_LIVE_PNG),this.addChild(this.$liveSp),this.$testItSp=new SimpleSprite(VideoAssets.SCENE_TESTIT_PNG),this.addChild(this.$testItSp),this.$liveSp.visible=this.$testItSp.visible=this.$historySp.visible=!1,this.$liveSp.x=this.$testItSp.x=this.$historySp.x=(i.width-this.$historySp.width)/2,this.$liveSp.y=this.$testItSp.y=this.$historySp.y=(i.height-this.$historySp.height)/2},s.setType=function(t){switch(this.$liveSp.visible=this.$testItSp.visible=this.$historySp.visible=!1,t){case i.HISTORY:this.$historySp.visible=!0;break;case i.LIVE:this.$liveSp.visible=!0;break;case i.TEST:this.$testItSp.visible=!0}},i.LIVE="live",i.TEST="test",i.HISTORY="history",i}(egret.Sprite);egret.registerClass(SceneTypeMc,"SceneTypeMc");var SoundCtr=function(t){function i(){t.call(this),this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this)}__extends(i,t);var e=__define,s=i,r=s.prototype;return r.onAddToStage=function(t){this.$bg=new SimpleSprite(VideoAssets.ARROWBG_PNG),this.addChild(this.$bg),this.$bg.scaleX=2,this.$bg.scaleY=1.5,this.$bg.width*=2,this.$bg.height*=1.5,this.$soundClosed=new SimpleSprite(VideoAssets.SOUNDCLOSED_PNG),this.addChild(this.$soundClosed),this.$soundOpened=new SimpleSprite(VideoAssets.SOUNDOPENED_PNG),this.addChild(this.$soundOpened),this.$soundClosed.scaleX=this.$soundOpened.scaleX=1.5,this.$soundClosed.scaleY=this.$soundOpened.scaleY=1.5,this.$soundClosed.width=this.$soundOpened.width=1.5*this.$soundOpened.width,this.$soundClosed.height=this.$soundOpened.height=1.5*this.$soundOpened.height,this.$soundClosed.x=this.$soundOpened.x=(this.$bg.width-this.$soundClosed.width)/2,this.$soundClosed.y=this.$soundOpened.y=(this.$bg.height-this.$soundClosed.height)/2,this.$soundOpened.visible=!1},e(r,"isOpened",function(){return this.$soundOpened.visible}),r.setOpenStatu=function(t){t?(this.$soundClosed.visible=!1,this.$soundOpened.visible=!0):(this.$soundClosed.visible=!0,this.$soundOpened.visible=!1)},i}(egret.Sprite);egret.registerClass(SoundCtr,"SoundCtr");var StatusCmp=function(t){function i(){t.call(this),this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this)}__extends(i,t);var e=(__define,i),s=e.prototype;return s.onAddToStage=function(t){this.$bg=new SimpleSprite(VideoAssets.TIPS_BG_PNG),this.addChild(this.$bg),this.$txt=new egret.TextField,this.addChild(this.$txt)},s.setTips=function(t){void 0===t&&(t=""),this.$txt.text=t,this.$txt.textColor=16776960,this.$txt.size=20,this.$txt.x=(this.$bg.width-this.$txt.textWidth)/2,this.$txt.y=(this.$bg.height-this.$txt.textHeight)/2},i}(egret.Sprite);egret.registerClass(StatusCmp,"StatusCmp");var ToolBar=function(t){function i(){t.call(this),this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this)}__extends(i,t);var e=(__define,i),s=e.prototype;return s.onAddToStage=function(t){this.$bg=new SimpleSprite(VideoAssets.TOOL_BG_PNG),this.addChild(this.$bg),this.$historyBtn=new FontSpriteButton(VideoAssets.BTN_HISTORY_PNG,VideoAssets.BTNBGUP_A_PNG,VideoAssets.BTNBGDOWN_A_PNG),this.addChild(this.$historyBtn);var i=(this.$bg.width-this.$historyBtn.width)/2,e=11;this.$sixSheetBtn=new FontSpriteButton(VideoAssets.BTN_SIXSHEET_PNG,VideoAssets.BTNBGUP_A_PNG,VideoAssets.BTNBGDOWN_A_PNG),this.addChild(this.$sixSheetBtn),this.$testItBtn=new FontSpriteButton(VideoAssets.BTN_TESTIT_PNG,VideoAssets.BTNBGUP_B_PNG,VideoAssets.BTNBGDOWN_B_PNG),this.addChild(this.$testItBtn),this.$statisticsBtn=new FontSpriteButton(VideoAssets.BTN_STATISTICSHEET_PNG,VideoAssets.BTNBGUP_A_PNG,VideoAssets.BTNBGDOWN_A_PNG),this.addChild(this.$statisticsBtn),this.$communicateBtn=new FontSpriteButton(VideoAssets.BTN_DISCUSSHALL_PNG,VideoAssets.BTNBGUP_A_PNG,VideoAssets.BTNBGDOWN_A_PNG),this.addChild(this.$communicateBtn),this.$awardBtn=new FontSpriteButton(VideoAssets.BTN_AWARD_PNG,VideoAssets.BTNBGUP_B_PNG,VideoAssets.BTNBGDOWN_B_PNG),this.addChild(this.$awardBtn),this.$awardBtn.visible=!1,this.$sixSheetBtn.x=this.$testItBtn.x=this.$communicateBtn.x=this.$statisticsBtn.x=this.$historyBtn.x=i,this.$historyBtn.y=e,this.$sixSheetBtn.y=this.$historyBtn.y+this.$historyBtn.height+e,this.$statisticsBtn.y=this.$sixSheetBtn.y+this.$sixSheetBtn.height+e,this.$communicateBtn.y=this.$statisticsBtn.y+this.$statisticsBtn.height+e,this.$awardBtn.y=this.$testItBtn.y=this.$communicateBtn.y+this.$communicateBtn.height+e,this.$awardBtn.x=this.$testItBtn.x,this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap_handler,this)},s.initUrl=function(t){this.$urlArr=t},s.onTouchTap_handler=function(t){switch(t.target){case this.$historyBtn:this.dispatchEvent(new egret.Event(i.OPEN_WINDOW,!1,!1,{url:this.$urlArr[0]}));break;case this.$communicateBtn:this.dispatchEvent(new egret.Event(i.OPEN_WINDOW,!1,!1,{url:this.$urlArr[3]}));break;case this.$sixSheetBtn:this.dispatchEvent(new egret.Event(i.OPEN_WINDOW,!1,!1,{url:this.$urlArr[1]}));break;case this.$statisticsBtn:this.dispatchEvent(new egret.Event(i.OPEN_WINDOW,!1,!1,{url:this.$urlArr[2]}));break;case this.$testItBtn:this.isOpenAward(!0),this.isOpenTestBtn(!1,!1),this.dispatchEvent(new egret.Event(i.TESTIT_EVENT));break;case this.$awardBtn:this.isOpenTestBtn(!0),this.isOpenAward(!1),this.dispatchEvent(new egret.Event(i.AWARD_EVENT))}},s.openWindow=function(t){window.open(t,"_blank")},s.isOpenTestBtn=function(t,i){void 0===i&&(i=!1),this.$testItBtn.touchEnabled=t,i?(this.$testItBtn.visible=!0,this.$testItBtn.alpha=t?1:.4):(this.$testItBtn.visible=t,this.$testItBtn.alpha=1)},s.isOpenAward=function(t){this.$awardBtn.touchEnabled=this.$awardBtn.visible=t},i.TESTIT_EVENT="testIt_event",i.AWARD_EVENT="award_event",i.OPEN_WINDOW="open_window",i}(egret.Sprite);egret.registerClass(ToolBar,"ToolBar");var Sprite=egret.Sprite,VideoAnimation=function(t){function i(){t.call(this),this.$ballNum=1,this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this)}__extends(i,t);var e=(__define,i),s=e.prototype;return s.onAddToStage=function(t){this.$timeoutIds=[],this.$animation=new SimpleAnimation(VideoAssets.VIDEO_ANIMATION_JSON,VideoAssets.VIDEO_TEXTURE_JSON,VideoAssets.VIDEO_TEXTURE_PNG),this.addChild(this.$animation),this.$animation.gotoAndStop(i.BALL_OUT,0),this.$animation.addEventListener(dragonBones.AnimationEvent.COMPLETE,this.onPlayCompleted_handler,this),this.$hideSlots=[],this.creatResultBall(),this.$ironHoop=new SimpleSprite(VideoAssets.IRON_HOOP_PNG),this.addChild(this.$ironHoop),this.$ironHoop.x=.515*-this.$ironHoop.width,this.$ironHoop.y=.71*-this.$ironHoop.height},s.creatResultBall=function(){var t=22,i=9;this.$resultBall1=new SimpleSprite("balls_json.qiu3"),this.addChild(this.$resultBall1),this.$resultBall1.scaleX=this.$resultBall1.scaleY=.65,this.$resultBall1.rotation=-69.54,this.$resultBall1.x=-67.81-t,this.$resultBall1.y=84.68+i,this.$resultBall2=new SimpleSprite("balls_json.qiu2"),this.addChild(this.$resultBall2),this.$resultBall2.scaleX=this.$resultBall2.scaleY=.65,this.$resultBall2.rotation=-69.54,this.$resultBall2.x=-96.08-t,this.$resultBall2.y=73.06+i,this.$resultBall3=new SimpleSprite("balls_json.qiu1"),this.addChild(this.$resultBall3),this.$resultBall3.scaleX=this.$resultBall3.scaleY=.65,this.$resultBall3.rotation=-69.54,this.$resultBall3.x=-121.98-t,this.$resultBall3.y=59.36+i,this.$resultBall4=new SimpleSprite("balls_json.qiu1"),this.addChild(this.$resultBall4),this.$resultBall4.scaleX=this.$resultBall4.scaleY=.65,this.$resultBall4.rotation=-69.54,this.$resultBall4.x=-145.74-t,this.$resultBall4.y=41.39+i,this.$resultBall5=new SimpleSprite("balls_json.qiu1"),this.addChild(this.$resultBall5),this.$resultBall5.scaleX=this.$resultBall5.scaleY=.65,this.$resultBall5.rotation=-69.54,this.$resultBall5.x=-168.14-t,this.$resultBall5.y=18.78+i,this.$resultBall6=new SimpleSprite("balls_json.qiu1"),this.addChild(this.$resultBall6),this.$resultBall6.scaleX=this.$resultBall6.scaleY=.65,this.$resultBall6.rotation=-69.54,this.$resultBall6.x=-185.47-t,this.$resultBall6.y=-6.17+i,this.$resultBall7=new SimpleSprite("balls_json.qiu1"),this.addChild(this.$resultBall7),this.$resultBall7.scaleX=this.$resultBall7.scaleY=.65,this.$resultBall7.x=58.31-t+5,this.$resultBall7.y=80.97-i,this.$resultBall1.visible=this.$resultBall2.visible=this.$resultBall3.visible=this.$resultBall4.visible=!1,this.$resultBall5.visible=this.$resultBall6.visible=this.$resultBall7.visible=!1},s.playLoopBall=function(t){void 0===t&&(t=0),this.$animation.gotoAndPlay(i.LOOP_KICK,0,0,t)},s.playReadyBall=function(){this.$animation.gotoAndPlay(i.READY_KICK,0,0,1)},s.playEndKick=function(){this.$animation.gotoAndPlay(i.END_KICK,0,0,1)},s.playBallIn=function(){this.$animation.gotoAndPlay(i.BALL_IN,0,0,1)},s.playBallOut=function(){this.$animation.gotoAndPlay(i.BALL_OUT,0,0,1)},s.playLiftingBall=function(t,i){this.$animation.gotoAndPlay("Lifting_ball"+String(t),0,0,1);var e=this.$animation.factory.getTextureDisplay("qiu"+i.toString()),s=this.$animation.armature.getBone("danqiu_"+t.toString()),r=s.slot;r.setDisplay(e),r.display=e,this.$timeoutIds.push(egret.setTimeout(this.reportSound,this,1e3,t))},s.hideHadLiftBall=function(t){for(var i="qiu"+t.toString(),e=this.$animation.armature.getBone(i),s=e.getSlots(!0),r=0;r<s.length;r++)s[r].display=null,this.$hideSlots.push(s[r])},s.onPlayCompleted_handler=function(t){var e=this.$animation.lastAnimationName,s=this.$resultNum.toString();switch(e){case i.BALL_IN:break;case i.BALL_OUT:this.playReadyBall();break;case i.LIFTING_BALL1:this.$resultBall1.setTexture("balls_json.qiu"+s),this.$resultBall1.visible=!0,this.playNextBall();break;case i.LIFTING_BALL2:this.$resultBall2.setTexture("balls_json.qiu"+s),this.$resultBall2.visible=!0,this.playNextBall();break;case i.LIFTING_BALL3:this.$resultBall3.setTexture("balls_json.qiu"+s),this.$resultBall3.visible=!0,this.playNextBall();break;case i.LIFTING_BALL4:this.$resultBall4.setTexture("balls_json.qiu"+s),this.$resultBall4.visible=!0,this.playNextBall();break;case i.LIFTING_BALL5:this.$resultBall5.setTexture("balls_json.qiu"+s),this.$resultBall5.visible=!0,this.playNextBall();break;case i.LIFTING_BALL6:this.$resultBall6.setTexture("balls_json.qiu"+s),this.$resultBall6.visible=!0,this.playNextBall();break;case i.LIFTING_BALL7:this.playNextBall();break;case i.END_KICK:this.playLiftingBall(this.$ballNum,this.$resultNum);break;case i.READY_KICK:this.playLoopBall(this.$loop);break;case i.LOOP_KICK:}},s.playNextBall=function(){this.$ballNum<7&&this.playReadyBall(),this.dispatchEvent(new egret.Event(i.LIFTBALL_COMPLETED,!1,!1,{next:this.$ballNum+1}))},s.startPlay=function(t){void 0===t&&(t=0),this.$loop=t,this.playBallOut()},s.liftBall=function(t,i){this.$ballNum=t,this.$resultNum=i,this.hideHadLiftBall(this.$resultNum),this.playEndKick()},s.reportSound=function(t){this.$sound=new SimpleSound(VideoAssets["REPORT_"+t.toString()+"_MP3"]),Config.SOUND_OPENED&&this.$sound.startPlay(0,1)},s.stopSound=function(){this.$sound.stop()},s.clear=function(){this.$sound=null,this.$animation.gotoAndStop(i.BALL_IN,0),this.$ballNum=0,this.$resultNum=0,this.$loop=0;for(var t=1;7>=t;t++){var e=this["$resultBall"+t.toString()];e.visible=!1}for(this.clearTimeOut(),t=0;t<this.$hideSlots.length;t++){var s=this.$hideSlots[t],r="";r=-1!=s.name.indexOf("yinying")?"yinying":s.name;var n=this.$animation.factory.getTextureDisplay(r);s.setDisplay(n),s.display=n}this.$hideSlots=[]},s.clearTimeOut=function(){for(var t=0;t<this.$timeoutIds.length;t++)egret.clearTimeout(this.$timeoutIds[t]);this.$timeoutIds=[]},i.BALL_OUT="Ball_out",i.BALL_IN="Ball_in",i.END_KICK="End_kick",i.LIFTING_BALL1="Lifting_ball1",i.LIFTING_BALL2="Lifting_ball2",i.LIFTING_BALL3="Lifting_ball3",i.LIFTING_BALL4="Lifting_ball4",i.LIFTING_BALL5="Lifting_ball5",i.LIFTING_BALL6="Lifting_ball6",i.LIFTING_BALL7="Lifting_ball7",i.READY_KICK="Ready_kick",i.LOOP_KICK="loop_kick",i.LIFTBALL_COMPLETED="liftBall_completed",i}(egret.Sprite);egret.registerClass(VideoAnimation,"VideoAnimation");var ZodiacMc=function(t){function i(){t.call(this),this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this)}__extends(i,t);var e=(__define,i),s=e.prototype;return s.onAddToStage=function(t){this.$animalMc=new CustomMovieClip,this.addChild(this.$animalMc);var i=[VideoAssets.MOUSE_PNG,VideoAssets.CATTLE_PNG,VideoAssets.TIGER_PNG,VideoAssets.RABBIT_PNG,VideoAssets.DRAGON_PNG,VideoAssets.SNAKE_PNG,VideoAssets.HORSE_PNG,VideoAssets.SHEEP_PNG,VideoAssets.MONKEY_PNG,VideoAssets.CHICKEN_PNG,VideoAssets.DOG_PNG,VideoAssets.PIG_PNG];this.$animalMc.init(i),this.$slash=new SimpleSprite(VideoAssets.SLASH_PNG),this.addChild(this.$slash),this.$wxMc=new CustomMovieClip,this.addChild(this.$wxMc);var e=[VideoAssets.GOLD_PNG,VideoAssets.WOOD_PNG,VideoAssets.WATER_PNG,VideoAssets.FIRE_PNG,VideoAssets.SOIL_PNG];this.$wxMc.init(e)},s.setIt=function(t,i){this.$animalMc.setFrameName(VideoAssets[t.toLocaleUpperCase()+"_PNG"]),this.$wxMc.setFrameName(VideoAssets[i.toLocaleUpperCase()+"_PNG"]),this.$slash.x=this.$animalMc.width,this.$wxMc.x=this.$slash.x+this.$slash.width},i}(egret.Sprite);egret.registerClass(ZodiacMc,"ZodiacMc");var TextField=egret.TextField,LoadingUI=function(t){function i(){t.call(this),this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this)}__extends(i,t);var e=(__define,i),s=e.prototype;return s.onAddToStage=function(t){this.createView()},s.createView=function(){var t=new SimpleAnimation(VideoAssets.LOADING_ANIMATION_JSON,VideoAssets.LOADING_TEXTURE_JSON,VideoAssets.LOADING_PNG);this.addChild(t),t.x=t.width/2,t.y=t.height/2,t.gotoAndPlay("loading"),this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=.6*t.height,this.textField.textAlign="center",this.textField.text=""},s.setProgress=function(t,i){var e=Parse.toInt(parseInt(t)/parseInt(i)*100);this.textField.textColor=16777215,this.textField.text="Loading "+e.toString()+"%",this.textField.width=480,this.textField.height=this.textField.textHeight,this.textField.x=(this.stage.stageWidth-this.textField.width)/2,console.log("",this.textField.text)},s.setError=function(t){this.textField.textColor=16711680,this.textField.text=t,this.textField.width=this.textField.textWidth,this.textField.height=this.textField.textHeight,this.textField.x=(this.stage.stageWidth-this.textField.width)/2},i}(egret.Sprite);egret.registerClass(LoadingUI,"LoadingUI");var VideoScene=function(t){function i(){t.call(this),this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this)}__extends(i,t);var e=__define,s=i,r=s.prototype;return r.onAddToStage=function(t){this.stage.addEventListener(egret.Event.ACTIVATE,this.onActive,this),this.stage.addEventListener(egret.Event.DEACTIVATE,this.onDeactive,this),this.$timeoutIds=[],this.$bgMusic=new SimpleSound(VideoAssets.MUSIC_MP3),this.$videoAnimation=new VideoAnimation,this.addChild(this.$videoAnimation),this.$videoAnimation.x=this.$videoAnimation.width/2,this.$videoAnimation.y=.335*this.$videoAnimation.height,this.$logo=new disDev.AnimationLite(310,"logo_json.logo",1,4),this.addChild(this.$logo),this.$logo.play(),this.$logo.x=10,this.$logo.y=25,this.$awardBar=new AwardBar,this.addChild(this.$awardBar),this.$awardBar.x=(this.width-this.$awardBar.width)/2,this.$awardBar.y=this.stage.stageHeight-this.$awardBar.height,this.$arrowCtr=new ArrowCtr,this.addChild(this.$arrowCtr),this.$arrowCtr.y=80,this.$arrowCtr.x=this.stage.stageWidth-this.$arrowCtr.width-10,this.$arrowCtr.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchArrow_handler,this),this.$soundCtr=new SoundCtr,this.addChild(this.$soundCtr),this.$soundCtr.touchEnabled=!0,this.$soundCtr.touchChildren=!1,this.$soundCtr.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchSoundCtr_handler,this),this.$soundCtr.x=this.$arrowCtr.x-this.$soundCtr.width-10,this.$soundCtr.y=this.$arrowCtr.y,this.$sceneTypeMc=new SceneTypeMc,this.addChild(this.$sceneTypeMc),this.$sceneTypeMc.setType(SceneTypeMc.LIVE),this.$sceneTypeMc.x=this.stage.stageWidth-this.$sceneTypeMc.width-10,this.$sceneTypeMc.y=this.$soundCtr.y-this.$sceneTypeMc.height-10,this.$toolBar=new ToolBar,this.$toolBar.initUrl(Config.TOOLBARURL),this.addChild(this.$toolBar),this.$toolBar.addEventListener(ToolBar.TESTIT_EVENT,this.onTestIt_handler,this),this.$toolBar.addEventListener(ToolBar.AWARD_EVENT,this.onAward_handler,this),this.$toolBar.addEventListener(ToolBar.OPEN_WINDOW,this.onOpenWindow_handler,this),this.$toolBar.x=this.stage.stageWidth-this.$toolBar.width-10,this.$toolBar.y=this.$arrowCtr.y+this.$arrowCtr.height+5,this.$toolBar.visible=!1,this.$periodMc=new PeriodMc,this.addChild(this.$periodMc),this.$periodMc.x=this.$awardBar.x+30,this.$periodMc.y=this.$awardBar.y-this.$periodMc.height-10,this.$statusCmp=new StatusCmp,this.addChild(this.$statusCmp),this.$statusCmp.x=(this.stage.stageWidth-this.$statusCmp.width)/2,this.$statusCmp.y=200,this.$statusCmp.visible=!1,this.$videoAnimation.addEventListener(VideoAnimation.LIFTBALL_COMPLETED,this.playNextBall,this);var i=new AdBoard;this.addChild(i)},r.onActive=function(t){this.isOpenSound(!this.$soundCtr.isOpened)},r.onDeactive=function(t){Config.SOUND_OPENED=!1,this.$soundCtr.isOpened&&this.isOpenSound(!1)},r.startLiveAward=function(t,e){this.$periodMc.visible=!0,this.$sceneType=SceneTypeMc.LIVE,this.$sceneTypeMc.setType(SceneTypeMc.LIVE),this.$awardResult&&this.$period+1!=t?this.$awardResult.length<e.length&&(this.$awardResult=e,this.$timeoutIds.push(egret.setTimeout(this.$videoAnimation.liftBall,this.$videoAnimation,i.$ROLLING_TIME,this.$awardIndex+1,this.$awardResult[this.$awardIndex].num))):(this.resetScene(),this.$periodMc.setPeriod(t),this.$awardResult=e,this.$videoAnimation.startPlay(),0!=this.$awardResult.length&&this.$timeoutIds.push(egret.setTimeout(this.$videoAnimation.liftBall,this.$videoAnimation,i.$ROLLING_TIME,this.$awardIndex+1,this.$awardResult[this.$awardIndex].num)))},e(r,"sceneType",function(){return this.$sceneType}),r.testAward=function(t){this.resetScene(),this.$testResult=t,this.$videoAnimation.startPlay(),this.$timeoutIds.push(egret.setTimeout(this.$videoAnimation.liftBall,this.$videoAnimation,i.$ROLLING_TIME,1,this.$testResult[0].num))},r.historyAward=function(t,e){this.resetScene(),this.$sceneType=SceneTypeMc.HISTORY,this.$sceneTypeMc.setType(SceneTypeMc.HISTORY),this.$periodMc.visible=!0,this.$periodMc.setPeriod(t),this.$historyData=e,this.$videoAnimation.startPlay(),this.$timeoutIds.push(egret.setTimeout(this.$videoAnimation.liftBall,this.$videoAnimation,i.$ROLLING_TIME,1,this.$historyData[0].num))},r.playNextBall=function(t){var e=t.data.next-1;switch(this.$sceneType){case SceneTypeMc.TEST:7>=e&&(this.setAwardBar(e,this.$testResult[e-1].num,this.$testResult[e-1].zodiac,this.$testResult[e-1].wx,this.$testResult[e-1].color),7>e?this.$timeoutIds.push(egret.setTimeout(this.$videoAnimation.liftBall,this.$videoAnimation,i.$ROLLING_TIME,t.data.next,this.$testResult[e].num)):this.$timeoutIds.push(egret.setTimeout(this.overTest,this,3e3)));break;case SceneTypeMc.HISTORY:7>=e&&(this.setAwardBar(e,this.$historyData[e-1].num,this.$historyData[e-1].zodiac,this.$historyData[e-1].wx,this.$historyData[e-1].color),7>e&&this.$timeoutIds.push(egret.setTimeout(this.$videoAnimation.liftBall,this.$videoAnimation,i.$ROLLING_TIME,t.data.next,this.$historyData[e].num)));break;case SceneTypeMc.LIVE:this.$awardIndex=e,7>=e&&(this.setAwardBar(e,this.$awardResult[e-1].num,this.$awardResult[e-1].zodiac,this.$awardResult[e-1].wx,this.$awardResult[e-1].color),7>e&&this.$awardResult[e]?this.$timeoutIds.push(egret.setTimeout(this.$videoAnimation.liftBall,this.$videoAnimation,i.$ROLLING_TIME,t.data.next,this.$awardResult[e].num)):e>7&&this.$timeoutIds.push(egret.setTimeout(this.playLiveOver,this,3e3)))}},r.setAwardBar=function(t,i,e,s,r){this.$awardBar.setBar(t,i,e,s,r)},r.onTestIt_handler=function(t){this.$sceneType=SceneTypeMc.TEST,this.$sceneTypeMc.setType(SceneTypeMc.TEST),this.$periodMc.visible=!1,this.dispatchEvent(new egret.Event(i.CLICKTEST_EVENT))},r.onOpenWindow_handler=function(t){Config.SOUND_OPENED=!1,this.isOpenSound(!1),this.$toolBar.openWindow(t.data.url)},r.onAward_handler=function(t){this.dispatchEvent(new egret.Event(i.CLICKAWARD_EVENT))},r.onTouchArrow_handler=function(t){this.$arrowCtr.setArrow(),this.$toolBar.visible=!this.$toolBar.visible},r.onTouchSoundCtr_handler=function(t){Config.SOUND_ISACTIVE=!0,this.isOpenSound(!this.$soundCtr.isOpened)},r.isOpenSound=function(t){t&&Config.SOUND_ISACTIVE?(this.$soundCtr.setOpenStatu(!0),Config.SOUND_OPENED=!0,this.$bgMusic.play()):(Config.SOUND_OPENED=!1,this.$soundCtr.setOpenStatu(!1),this.$bgMusic.stop())},r.setStatus=function(t){this.$statusCmp.visible=!0,this.$statusCmp.setTips(t)},r.isAbleTest=function(t,i){this.$toolBar.isOpenTestBtn(t,i)},r.overTest=function(){this.cleanTimeOut()},r.playLiveOver=function(){Logger.print("over live video"),this.$awardResult=null,this.cleanTimeOut()},r.cleanTimeOut=function(){if(this.$timeoutIds)for(var t=0;t<this.$timeoutIds.length;t++)egret.clearTimeout(this.$timeoutIds[t]);this.$timeoutIds=[]},r.resetScene=function(){this.$awardIndex=0,this.$awardResult=null,this.$testResult=null,this.$awardBar.clear(),this.$videoAnimation.clear(),this.cleanTimeOut()},i.$ROLLING_TIME=4e3,i.CLICKTEST_EVENT="clickTest_event",i.CLICKAWARD_EVENT="clickAward_event",i}(egret.Sprite);egret.registerClass(VideoScene,"VideoScene");